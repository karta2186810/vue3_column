{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/CreatePost.vue?8287","webpack:///./src/views/Home.vue?5eab","webpack:///./src/views/Signup.vue?a5b7","webpack:///./src/views/EditColumn.vue?adf6","webpack:///./src/components/GlobalHeader.vue?81f7","webpack:///./src/App.vue?5d79","webpack:///./src/assets/callout.svg","webpack:///./src/components/ColumnList.vue?b169","webpack:///./src/components/PostList.vue?9689","webpack:///./src/views/PostDetail.vue?c1b9","webpack:///./src/components/Loader.vue?a05e","webpack:///./src/assets/column.jpg","webpack:///./src/components/DropDownItem.vue?4532","webpack:///./src/views/Login.vue?a63c","webpack:///./src/views/ColumnDetail.vue?b687","webpack:///./src/helpers.ts","webpack:///./src/store.ts","webpack:///./src/views/Home.vue","webpack:///./src/components/ColumnList.vue","webpack:///./src/components/ColumnList.vue?9666","webpack:///./src/components/ColumnList.vue?77c7","webpack:///./src/hooks/useLoadMore.ts","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?c29e","webpack:///./src/views/Login.vue","webpack:///./src/components/ValidateForm.vue","webpack:///./src/components/ValidateForm.vue?f1a4","webpack:///./src/components/ValidateForm.vue?53d0","webpack:///./src/components/ValidateInput.vue","webpack:///./src/components/ValidateInput.vue?54b9","webpack:///./src/components/ValidateInput.vue?1800","webpack:///./src/views/Login.vue?e144","webpack:///./src/views/Login.vue?5786","webpack:///./src/views/Signup.vue","webpack:///./src/components/Message.vue","webpack:///./src/hooks/useDOMCreate.ts","webpack:///./src/components/Message.vue?7f00","webpack:///./src/components/Message.vue?a7ed","webpack:///./src/components/createMessage.ts","webpack:///./src/views/Signup.vue?2c40","webpack:///./src/views/Signup.vue?4fb4","webpack:///./src/views/ColumnDetail.vue","webpack:///./src/components/PostList.vue","webpack:///./src/components/PostList.vue?abe8","webpack:///./src/components/PostList.vue?b5b8","webpack:///./src/views/ColumnDetail.vue?09be","webpack:///./src/views/ColumnDetail.vue?4979","webpack:///./src/views/CreatePost.vue","webpack:///./src/components/Uploader.vue","webpack:///./src/components/Uploader.vue?38aa","webpack:///./src/components/Uploader.vue?de36","webpack:///./src/views/CreatePost.vue?e18e","webpack:///./src/views/CreatePost.vue?c78d","webpack:///./src/views/PostDetail.vue","webpack:///./src/components/UserProfile.vue","webpack:///./src/components/UserProfile.vue?83c1","webpack:///./src/components/UserProfile.vue?e19d","webpack:///./src/components/Modal.vue","webpack:///./src/components/Modal.vue?3fe0","webpack:///./src/components/Modal.vue?c0f6","webpack:///./src/views/PostDetail.vue?fef1","webpack:///./src/views/PostDetail.vue?e675","webpack:///./src/views/EditProfile.vue","webpack:///./src/views/EditProfile.vue?a065","webpack:///./src/views/EditProfile.vue?f1b3","webpack:///./src/views/EditColumn.vue","webpack:///./src/views/EditColumn.vue?bdea","webpack:///./src/views/EditColumn.vue?6994","webpack:///./src/router.ts","webpack:///./src/App.vue","webpack:///./src/components/GlobalHeader.vue","webpack:///./src/components/DropDown.vue","webpack:///./src/hooks/useClickOutside.ts","webpack:///./src/components/DropDown.vue?8a7a","webpack:///./src/components/DropDown.vue?efdd","webpack:///./src/components/DropDownItem.vue","webpack:///./src/components/DropDownItem.vue?66d2","webpack:///./src/components/DropDownItem.vue?67e3","webpack:///./src/components/GlobalHeader.vue?24be","webpack:///./src/components/GlobalHeader.vue?0965","webpack:///./src/components/Loader.vue","webpack:///./src/components/Loader.vue?6ce2","webpack:///./src/components/Loader.vue?c332","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?64a4","webpack:///./src/main.ts","webpack:///./src/components/UserProfile.vue?ad05","webpack:///./src/views/EditProfile.vue?54a3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","beforeUploadCheck","file","condition","format","size","isValidFormat","includes","type","isValidSize","error","passed","arrToObj","arr","reduce","prev","current","_id","objToArr","obj","keys","map","asyncAndCommit","url","mutationName","commit","config","extraData","method","state","token","localStorage","getItem","columns","currentPage","total","posts","loadedColumns","user","isLogin","loading","status","mutations","createPost","fetchColumns","rawData","list","count","fetchColumn","fetchPosts","columnId","listData","fetchPost","deletePost","updatePost","setLoading","setError","e","login","setItem","a","defaults","headers","common","Authorization","fetchCurrentUser","editUserProfile","editUserColumn","logout","removeItem","actions","params","pageSize","cid","loadedCurrentPage","currentPost","content","Promise","resolve","id","payload","loginAndFetch","loginData","dispatch","userId","getters","getColumns","filter","column","getColumnById","getColumnsById","getPostsByCid","post","getPostByCid","getTotalByCid","getCurrentPageByCid","class","src","alt","ref","to","isLastPage","loadMorePage","columnList","avatar","title","description","props","Array","required","setup","render","useLoadMore","actionName","store","requestParams","then","Math","ceil","components","ColumnList","slogan","sloganAnimation","textContent","innerHTML","replace","delay","children","span","style","setProperty","addEventListener","sloganAddEndedClass","spans","target","classList","add","onFormSubmit","submit","rules","emailRules","emailVal","placeholder","passwordRules","passwordVal","submitForm","emitter","emits","context","funcArr","func","every","emit","callback","on","off","tag","inputRef","validateInput","val","$attrs","message","emailReg","String","default","modelValue","inheritAttrs","set","allPassed","rule","trim","test","validator","inputReset","ValidateForm","ValidateInput","router","email","password","console","log","formData","nameRules","nickName","repeatPasswordRules","repeatPassword","classObject","hide","useDOMCreate","nodeId","node","document","createElement","body","appendChild","removeChild","isVisible","createMessage","timeout","messageInstance","Message","mountNode","mount","setTimeout","unmount","image","excerpt","createdAt","PostList","route","selectColumn","__scopeId","isEditMode","action","uploaded","uploadedData","beforeUpload","uploadCheck","handleFileUploaded","dataProps","titleRules","titleVal","rows","contentRules","contentVal","disabled","triggerUpload","fileStatus","handleFileChange","Function","fileInput","newValue","click","currentTarget","files","from","FormData","append","res","handleDelete","Uploader","query","imageId","newPost","author","sendData","visible","isModalVisible","closeModal","hideAndDelete","toColumn","currentHTML","showEditArea","tabindex","onConfirm","data-dismiss","onClose","Boolean","UserProfile","Modal","md","currentId","postAuthor","onFileUploaded","storeUser","nameVal","nameRule","descVal","descRule","newAvatar","currentColumn","columnName","columnDesc","fetchCurrentColumn","routerHistory","history","scrollBehavior","left","top","routes","path","component","Home","meta","Login","redirectAlreadyLogin","ColumnDetail","CreatePost","requiredLogin","Signup","PostDetail","EditProfile","EditColumn","beforeEach","next","currentUser","text","background","$route","fullPath","isScrollDown","href","display","toggleOpen","useClickOutside","elementRef","isClickOutside","handler","contains","removeEventListener","isOpen","dropdownRef","DropDown","DropDownItem","oldScrollTop","setToFixed","scrollTop","documentElement","role","GlobalHeader","Loader","isLoading","baseURL","interceptors","request","use","icode","response","reject","app","App"],"mappings":"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","file":"js/app.bc5b2ebe.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue3_column/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreatePost.vue?vue&type=style&index=0&id=88c311b4&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=2a392f68&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Signup.vue?vue&type=style&index=0&id=3122b8dd&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditColumn.vue?vue&type=style&index=0&id=9753bb42&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GlobalHeader.vue?vue&type=style&index=0&id=6132cba9&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=0ac99c3c&lang=scss\"","module.exports = __webpack_public_path__ + \"img/callout.5b86dfc8.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ColumnList.vue?vue&type=style&index=0&id=d8dc819c&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PostList.vue?vue&type=style&index=0&id=3cfb575c&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PostDetail.vue?vue&type=style&index=0&id=0bdad46e&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Loader.vue?vue&type=style&index=0&id=16c50f84&lang=scss\"","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAyADIDASIAAhEBAxEB/8QAGQABAQEBAQEAAAAAAAAAAAAAAAMEAQUH/8QAKhAAAgIBAgMGBwAAAAAAAAAAAAECAxEEEiFBURQxU3GR4RNCUmFik+L/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APrwB2MXKSjFZb5FRwFlpL33Vt+Q7Jf4UgIgpZRZUk5waTJgAAANehlXCc52NJJYyzIWr4Vp9Zdei9wN2/QZ+T0Y36D8fRmPcvq4efuN33Xr/RFaNTOj4DdGzPc8LkeeXbTUuOcxfPyfUgVAAACtVsIRcZ1Kcc5XHGCQA1rV1xSSpkkuStZ3tsPBl+1mMAXndVtaroUG1jO5sgAAAAAAAAAAAAAAAf/Z\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DropDownItem.vue?vue&type=style&index=0&id=85f06582&lang=sass\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=7f8bbbe8&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ColumnDetail.vue?vue&type=style&index=0&id=2f0b9bdd&scoped=true&lang=scss\"","import { ColumnProps } from './store'\nexport function generateFitURL (column: ColumnProps) {\n  if (column.avatar) {\n    column.avatar.fitUrl = column.avatar.url\n  } else {\n    column.avatar = {\n      fitUrl: require('@/assets/column.jpg')\n    }\n  }\n}\n\ninterface CheckCondition {\n  format?: string[]\n  size?: number\n}\ntype ErrorType = 'size' | 'format' | null\n\nexport function beforeUploadCheck (file: File, condition: CheckCondition) {\n  const { format, size } = condition\n  const isValidFormat = format ? format.includes(file.type) : true\n  const isValidSize = size ? ((file.size / 1024 / 1024) < size) : true\n  let error: ErrorType = null\n  if (!isValidFormat) {\n    error = 'format'\n  }\n  if (!isValidSize) {\n    error = 'size'\n  }\n  return {\n    passed: isValidFormat && isValidSize,\n    error\n  }\n}\n\nexport const arrToObj = <T extends { _id?: string }>(arr: T[]) => {\n  return arr.reduce((prev, current) => {\n    if (current._id) {\n      prev[current._id] = current\n    }\n    return prev\n  }, {} as { [key: string]: T })\n}\n\nexport const objToArr = <T>(obj: {[key: string]: T}) => {\n  return Object.keys(obj).map(key => obj[key])\n}\n","import { Commit, createStore } from 'vuex'\nimport axios, { AxiosRequestConfig } from 'axios'\nimport { arrToObj, objToArr } from './helpers'\n\nexport interface ImageProps {\n  _id?: string\n  url?: string\n  createAt?: string\n  fitUrl?: string\n}\n\nexport interface AvatarProps {\n  _id: string\n  url: string\n}\n\nexport interface ResponseType<P = { [key: string]: any }> {\n  code: number\n  message: string\n  data: P\n}\n\nexport interface UserProps {\n  isLogin: boolean\n  nickName?: string\n  _id?: string\n  column?: string\n  email?: string\n  avatar?: AvatarProps\n  description?: string | unknown\n}\n\nexport interface ColumnProps {\n  _id: string\n  title: string\n  avatar?: ImageProps\n  description: string\n}\n\nexport interface PostProps {\n  _id?: string\n  title: string\n  excerpt?: string\n  content?: string\n  image?: ImageProps | string\n  createdAt?: string\n  column: string\n  author?: UserProps | string\n}\n\nexport interface GlobalErrorProps {\n  status: boolean\n  message?: string\n}\n\ninterface ListProps<P> {\n  [id: string]: P\n}\n\nexport interface GlobalDataProps {\n  token: string\n  columns: { currentPage: number, data: ListProps<ColumnProps>, total: number }\n  posts: { loadedColumns: ListProps<{ currentPage: number; total: number }>, data: ListProps<PostProps> }\n  user: UserProps\n  loading: boolean\n  error: GlobalErrorProps\n}\n\nconst asyncAndCommit = async (url: string, mutationName: string, commit: Commit,\n  config: AxiosRequestConfig = { method: 'GET' }, extraData?: any) => {\n  const { data } = await axios(url, config)\n  if (extraData) {\n    commit(mutationName, { data, extraData })\n  } else {\n    commit(mutationName, data)\n  }\n  return data\n}\n\nconst store = createStore<GlobalDataProps>({\n  state: {\n    token: localStorage.getItem('token') || '',\n    columns: { data: {}, currentPage: 0, total: 0 },\n    posts: { data: {}, loadedColumns: {} },\n    user: { isLogin: false },\n    loading: false,\n    error: { status: false }\n  },\n  mutations: {\n    createPost (state, { data }) {\n      state.posts.data[data._id] = data\n    },\n    fetchColumns (state, rawData) {\n      const { data } = state.columns\n      const { list, count, currentPage } = rawData.data\n      state.columns = {\n        data: { ...data, ...arrToObj(list) },\n        total: count,\n        currentPage: currentPage * 1\n      }\n    },\n    fetchColumn (state, rawData) {\n      state.columns.data[rawData.data._id] = rawData.data\n    },\n    fetchPosts (state, { data: rawData, extraData: columnId }) {\n      const { data } = state.posts\n      const { list, count, currentPage } = rawData.data\n      const listData = list as PostProps[]\n      state.posts.data = { ...data, ...arrToObj(listData) }\n      state.posts.loadedColumns[columnId] = { currentPage, total: count }\n    },\n    fetchPost (state, rawData) {\n      state.posts.data[rawData.data._id] = rawData.data\n    },\n    deletePost (state, { data }) {\n      delete state.posts.data[data._id]\n    },\n    updatePost (state, { data }) {\n      state.posts.data[data._id] = data\n    },\n    setLoading (state, status) {\n      state.loading = status\n    },\n    setError (state, e: GlobalErrorProps) {\n      state.error = e\n    },\n    login (state, rawData) {\n      const { token } = rawData.data\n      state.token = token\n      localStorage.setItem('token', token)\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`\n    },\n    fetchCurrentUser (state, rawData) {\n      state.user = { isLogin: true, ...rawData.data }\n    },\n    editUserProfile (state, rawData) {\n      state.user = { ...state.user, ...rawData.data }\n    },\n    editUserColumn (state, { data }) {\n      state.columns.data[data._id] = data\n    },\n    logout (state) {\n      state.user = { isLogin: false }\n      state.token = ''\n      localStorage.removeItem('token')\n      delete axios.defaults.headers.common.Authorization\n    }\n  },\n  actions: {\n    fetchColumns ({ state, commit }, params = {}) {\n      const { currentPage = 1, pageSize = 6 } = params\n\n      if (state.columns.currentPage < currentPage) {\n        return asyncAndCommit(`/columns?currentPage=${currentPage}&pageSize=${pageSize}`, 'fetchColumns', commit)\n      }\n    },\n    fetchColumn ({ state, commit }, cid) {\n      if (!state.columns.data[cid]) {\n        return asyncAndCommit(`/columns/${cid}`, 'fetchColumn', commit)\n      }\n    },\n    fetchPosts ({ state, commit }, params) {\n      // 取出傳遞過來的參數\n      const { columnId, currentPage = 1, pageSize = 5 } = params\n      // 取出代表已經讀取的專欄的物件\n      const { loadedColumns } = state.posts\n      // 如果專欄存在，則返回該專欄的當前頁數，否則初始化為0\n      const loadedCurrentPage = (loadedColumns[columnId] && loadedColumns[columnId].currentPage) || 0\n      // 判斷loadedColumns中是否已經讀取該專欄，或是該專欄當前頁面小於要請求的當前頁面\n      if (!Object.keys(loadedColumns).includes(columnId) || loadedCurrentPage < currentPage) {\n        // 發送請求\n        return asyncAndCommit(`/columns/${columnId}/posts?currentPage=${currentPage}&pageSize=${pageSize}`, 'fetchPosts', commit, { method: 'GET' }, columnId)\n      }\n    },\n    fetchPost ({ state, commit }, cid) {\n      // 取出Posts中的文章\n      const { data } = state.posts\n      // 將代表當前id的文章取出\n      const currentPost = data[cid]\n      // 如果不存在當前文章，或是該文章沒有內容\n      if (!currentPost || !currentPost.content) {\n        return asyncAndCommit(`/posts/${cid}`, 'fetchPost', commit)\n      } else {\n        return Promise.resolve({ data: currentPost })\n      }\n    },\n    updatePost ({ commit }, { id, payload }) {\n      return asyncAndCommit(`/posts/${id}`, 'updatePost', commit, {\n        method: 'PATCH',\n        data: payload\n      })\n    },\n    login ({ commit }, payload) {\n      return asyncAndCommit('/user/login', 'login', commit, { method: 'POST', data: payload })\n    },\n    fetchCurrentUser ({ commit }) {\n      return asyncAndCommit('/user/current', 'fetchCurrentUser', commit)\n    },\n    async loginAndFetch ({ dispatch }, loginData) {\n      await dispatch('login', loginData)\n      return await dispatch('fetchCurrentUser')\n    },\n    editUserProfile ({ commit }, payload) {\n      const { userId } = payload\n      return asyncAndCommit(`/user/${userId}`, 'editUserProfile', commit, { method: 'PATCH', data: payload.data })\n    },\n    editUserColumn ({ commit }, payload) {\n      const { columnId, data } = payload\n      return asyncAndCommit(`/columns/${columnId}`, 'editUserColumn', commit, { method: 'PATCH', data })\n    },\n    createPost ({ commit }, payload) {\n      asyncAndCommit('/posts', 'createPost', commit, { method: 'POST', data: payload })\n    },\n    deletePost ({ commit }, id) {\n      return asyncAndCommit(`/posts/${id}`, 'deletePost', commit, { method: 'DELETE' })\n    }\n  },\n  // 相當於computed\n  getters: {\n    getColumns: state => {\n      return objToArr(state.columns.data).filter(column => column._id !== state.user.column)\n    },\n    getColumnById: state => (id: string) => {\n      return state.columns.data[id]\n    },\n    // 如果getter需要進行參數的接收可以使用函數柯里化的形式\n    getColumnsById: state => (id: string) => {\n      if (state.columns.data) {\n        return state.columns.data[id]\n      }\n    },\n    getPostsByCid: state => (cid: string) => {\n      return objToArr(state.posts.data).filter(post => post.column === cid)\n    },\n    getPostByCid: state => (cid: string) => {\n      return state.posts.data[cid]\n    },\n    getTotalByCid: state => (cid: string) => {\n      if (state.posts.loadedColumns[cid]) {\n        return state.posts.loadedColumns[cid].total\n      } else {\n        return 0\n      }\n    },\n    getCurrentPageByCid: state => (cid: string) => {\n      if (state.posts.loadedColumns[cid]) {\n        return state.posts.loadedColumns[cid].currentPage\n      } else {\n        return 0\n      }\n    }\n  }\n})\n\nexport default store\n","<template>\n  <div class=\"home-page\">\n    <section class=\"py-5 text-center container\">\n      <div class=\"row\">\n        <div class=\"col-lg-8 col-md-8 mx-auto\">\n          <img src=\"../assets/callout.svg\" alt=\"callout\" class=\"w-50\"/>\n          <div class=\"slogan-container\">\n            <h2 class=\"mt-5\" ref=\"slogan\">隨心寫作，自由表達</h2>\n          </div>\n          <p>\n            <router-link to=\"/create\" class=\"btn btn-primary my-3 fw-bolder\"><i class=\"fas fa-pen me-2\"></i>開始寫作</router-link>\n          </p>\n        </div>\n      </div>\n    </section>\n      <column-list :list=\"list\"></column-list>\n    <button\n      class=\"btn btn-outline-primary d-block mt-2 mb-5 mx-auto w-50\"\n      @click=\"loadMorePage\"\n      v-if=\"!isLastPage\"\n      >加載更多</button>\n    <div v-else class=\"is-last-page text-center text-secondary py-5 fs-5\"><i class=\"fas fa-exclamation-triangle me-2\"></i>沒有更多專欄囉!</div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, onMounted, Ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps } from '../store'\nimport ColumnList from '../components/ColumnList.vue'\nimport useLoadMore from '../hooks/useLoadMore'\n\nexport default defineComponent({\n  name: 'Home',\n  components: {\n    ColumnList\n  },\n  setup () {\n    // store中的getter屬性類似於computed屬性，將store中的數據處理過後進行返回\n    const store = useStore<GlobalDataProps>()\n    // 因為setup只會執行一次，但是vuex中的數據是響應式的，最簡單的方式是通過computed去監視vuex中的數據\n    const list = computed(() => store.getters.getColumns)\n    const total = computed(() => store.state.columns.total)\n    const currentPage = computed(() => store.state.columns.currentPage)\n    const slogan = ref<null | HTMLHeadingElement>(null)\n    const { loadMorePage, isLastPage } = useLoadMore('fetchColumns', total, { currentPage: currentPage.value ? currentPage.value : 1, pageSize: 3 })\n\n    const sloganAnimation = (slogan: Ref<HTMLHeadingElement | null>) => {\n      if (slogan.value && slogan.value.textContent) {\n        slogan.value.innerHTML = slogan.value.textContent.replace(/\\S/g, '<span>$&</span>')\n        let delay = 0\n        for (let i = 0; i < slogan.value.children.length; i++) {\n          const span = slogan.value.children[i] as HTMLSpanElement\n          if (i === 5) delay += 1\n          delay += 1\n          span.style.setProperty('--delay', `${delay / 4}s`)\n        }\n        slogan.value.addEventListener('animationend', sloganAddEndedClass(slogan))\n      }\n    }\n    const sloganAddEndedClass = (slogan: Ref<HTMLHeadingElement | null>) => (e: AnimationEvent) => {\n      const spans = slogan.value && slogan.value.children\n      if (slogan.value && spans && e.target === spans[spans.length - 1]) {\n        slogan.value.classList.add('ended')\n      }\n    }\n\n    onMounted(() => {\n      store.dispatch('fetchColumns', { pageSize: 3 })\n      sloganAnimation(slogan)\n    })\n\n    return {\n      list,\n      loadMorePage,\n      isLastPage,\n      slogan\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.slogan-container {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  h2 {\n    padding: 0;\n    font-family: monospace;\n    white-space: nowrap;\n    position: relative;\n    span {\n      display: inline-block;\n      overflow: hidden;\n      width: 0ch;\n      animation: .1s text-in ease-in-out forwards;\n      animation-delay: var(--delay);\n    }\n    &::after {\n      content: '';\n      display: inline-block;\n      position: absolute;\n      background-color: var(--bs-blue);\n      width: 4px;\n      height: 70%;\n      border-radius: 1px;\n      right: -10px;\n    }\n    &.ended::after {\n      animation: 1s cursor steps(2, jump-none) infinite;\n    }\n  }\n}\n@keyframes cursor {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes text-in {\n  from {\n    width: 0ch;\n  }\n  to {\n    width: 2ch;\n  }\n}\n</style>\n","<template>\n  <div class=\"column-list\">\n    <h4 class=\"text-center fw-bolder\">發現精彩</h4>\n    <div class=\"row\">\n      <transition-group name=\"columns\">\n        <div v-for=\"column in columnList\" :key=\"column._id\" class=\"col-lg-4 col-md-4 col-sm-12 mb-2 mt-3\">\n          <div class=\"card h-100 shadow-sm column-card\">\n            <div class=\"card-body text-center d-flex flex-column justify-content-between align-items-center h-100\">\n              <div class=\"w-100 overflow-hidden\">\n                <img :src=\"column.avatar && column.avatar.url\" :alt=\"column.title\" class=\"rounded-circle w-25 my-3 d-block mx-auto\">\n                <h5 class=\"card-title fw-bolder mb-3\">{{column.title}}</h5>\n                <p class=\"card-text text-left\">{{column.description}}</p>\n              </div>\n              <router-link :to=\"`/column/${column._id}`\" class=\"btn btn-outline-primary w-50 mt-5\">進入專欄</router-link>\n            </div>\n          </div>\n        </div>\n      </transition-group>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\nimport { ColumnProps } from '../store'\n\nexport default defineComponent({\n  name: 'ColumnList',\n  props: {\n    list: {\n      type: Array as PropType<ColumnProps[]>,\n      required: true\n    }\n  },\n  setup (props) {\n    const columnList = computed(() => {\n      /* 判斷是否存在頭圖，沒有的話使用預設頭圖 */\n      return props.list.map(column => {\n        if (!column.avatar) {\n          // 在Vue中如果需要使用本地的資源，需要使用require，@代表指向src\n          column.avatar = {\n            url: require('@/assets/column.jpg')\n          }\n        }\n        return column\n      })\n    })\n    return {\n      columnList\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.column-list {\n  .column-card {\n    transition: 0.3s;\n    img {\n      transition: 0.3s;\n      border: 2px solid transparent;\n    }\n    &:hover {\n      background-color: #efefef;\n      img {\n        border: 2px solid var(--bs-blue);\n      }\n    }\n  }\n  img {\n    object-fit: cover;\n  }\n}\n\n.columns-enter-active,\n.columns-leave-active {\n  transition: 0.3s;\n}\n.columns-enter-from,\n.columns-leave-to {\n  transform: translateY(20%);\n}\n\n.columns-leave-from,\n.columns-enter-to {\n  transform: translateY(0);\n}\n</style>\n","\nimport { defineComponent, PropType, computed } from 'vue'\nimport { ColumnProps } from '../store'\n\nexport default defineComponent({\n  name: 'ColumnList',\n  props: {\n    list: {\n      type: Array as PropType<ColumnProps[]>,\n      required: true\n    }\n  },\n  setup (props) {\n    const columnList = computed(() => {\n      /* 判斷是否存在頭圖，沒有的話使用預設頭圖 */\n      return props.list.map(column => {\n        if (!column.avatar) {\n          // 在Vue中如果需要使用本地的資源，需要使用require，@代表指向src\n          column.avatar = {\n            url: require('@/assets/column.jpg')\n          }\n        }\n        return column\n      })\n    })\n    return {\n      columnList\n    }\n  }\n})\n","import { render } from \"./ColumnList.vue?vue&type=template&id=d8dc819c\"\nimport script from \"./ColumnList.vue?vue&type=script&lang=ts\"\nexport * from \"./ColumnList.vue?vue&type=script&lang=ts\"\n\nimport \"./ColumnList.vue?vue&type=style&index=0&id=d8dc819c&lang=scss\"\nscript.render = render\n\nexport default script","import { useStore } from 'vuex'\nimport { ref, computed, ComputedRef } from 'vue'\nimport store from '@/store'\n\ninterface LoadParams {\n  currentPage: number\n  pageSize: number\n  [ key: string ]: any\n}\n\n// actionName 要進行dispatch的名字\n// total 總條目數\n// params用來傳遞給後端的當前頁面及每頁的條目數\nconst useLoadMore = (actionName: string, total: ComputedRef<number>, params: LoadParams = { currentPage: 2, pageSize: 5 }) => {\n  // 使用store\n  const store = useStore()\n  // 將params中的currentPage取出，並將其轉換響應式物件\n  const currentPage = ref((params && params.currentPage) || 1)\n  const requestParams = computed(() => ({\n    ...params,\n    currentPage: currentPage.value + 1\n  }))\n  const loadMorePage = () => {\n    store.dispatch(actionName, requestParams.value).then(() => {\n      currentPage.value++\n    })\n  }\n  // const isLastPage = computed(() => {\n  //   return (requestParams.value.pageSize * (currentPage.value - 1)) >= total.value\n  // })\n  const isLastPage = computed(() => {\n    return Math.ceil((total.value || 1) / params.pageSize) === currentPage.value\n  })\n  return {\n    loadMorePage,\n    isLastPage\n  }\n}\n\nexport default useLoadMore\n","\nimport { defineComponent, ref, computed, onMounted, Ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps } from '../store'\nimport ColumnList from '../components/ColumnList.vue'\nimport useLoadMore from '../hooks/useLoadMore'\n\nexport default defineComponent({\n  name: 'Home',\n  components: {\n    ColumnList\n  },\n  setup () {\n    // store中的getter屬性類似於computed屬性，將store中的數據處理過後進行返回\n    const store = useStore<GlobalDataProps>()\n    // 因為setup只會執行一次，但是vuex中的數據是響應式的，最簡單的方式是通過computed去監視vuex中的數據\n    const list = computed(() => store.getters.getColumns)\n    const total = computed(() => store.state.columns.total)\n    const currentPage = computed(() => store.state.columns.currentPage)\n    const slogan = ref<null | HTMLHeadingElement>(null)\n    const { loadMorePage, isLastPage } = useLoadMore('fetchColumns', total, { currentPage: currentPage.value ? currentPage.value : 1, pageSize: 3 })\n\n    const sloganAnimation = (slogan: Ref<HTMLHeadingElement | null>) => {\n      if (slogan.value && slogan.value.textContent) {\n        slogan.value.innerHTML = slogan.value.textContent.replace(/\\S/g, '<span>$&</span>')\n        let delay = 0\n        for (let i = 0; i < slogan.value.children.length; i++) {\n          const span = slogan.value.children[i] as HTMLSpanElement\n          if (i === 5) delay += 1\n          delay += 1\n          span.style.setProperty('--delay', `${delay / 4}s`)\n        }\n        slogan.value.addEventListener('animationend', sloganAddEndedClass(slogan))\n      }\n    }\n    const sloganAddEndedClass = (slogan: Ref<HTMLHeadingElement | null>) => (e: AnimationEvent) => {\n      const spans = slogan.value && slogan.value.children\n      if (slogan.value && spans && e.target === spans[spans.length - 1]) {\n        slogan.value.classList.add('ended')\n      }\n    }\n\n    onMounted(() => {\n      store.dispatch('fetchColumns', { pageSize: 3 })\n      sloganAnimation(slogan)\n    })\n\n    return {\n      list,\n      loadMorePage,\n      isLastPage,\n      slogan\n    }\n  }\n})\n","import { render } from \"./Home.vue?vue&type=template&id=2a392f68\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=2a392f68&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"login-page\">\n    <h2 class=\"text-center py-3 fw-bold\">登入</h2>\n    <validate-form @form-submit=\"onFormSubmit\">\n      <div class=\"mb-2\">\n        <label class=\"form-label fw-bolder\">電子郵件</label>\n        <validate-input\n          :rules=\"emailRules\" v-model=\"emailVal\"\n          placeholder=\"請輸入電子郵件\"\n          type=\"text\"\n          ref=\"inputRef\"\n        />\n      </div>\n      <div class=\"mb-2\">\n        <label class=\"form-label fw-bolder\">密碼</label>\n        <validate-input\n          type=\"password\"\n          placeholder=\"請輸入密碼\"\n          :rules=\"passwordRules\"\n          v-model=\"passwordVal\"\n        />\n      </div>\n      <template #submit>\n        <button type=\"submit\" class=\"btn btn-primary w-100 fw-bolder\">登入</button>\n      </template>\n    </validate-form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\n// 與useRoute不同useRouter用來定義路由的行為\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps } from '../store'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\n\nexport default defineComponent({\n  name: 'Login',\n  components: {\n    ValidateForm,\n    ValidateInput\n  },\n  setup () {\n    const router = useRouter()\n    const store = useStore<GlobalDataProps>()\n\n    const emailVal = ref('')\n    const emailRules: RulesProp = [\n      { type: 'required', message: '電子郵件地址不能為空' },\n      { type: 'email', message: '請輸入正確的電子郵件格式' }\n    ]\n\n    const passwordVal = ref('')\n    const passwordRules: RulesProp = [\n      { type: 'required', message: '密碼不能為空' }\n    ]\n\n    const onFormSubmit = async (result: boolean) => {\n      if (result) {\n        const payload = {\n          email: emailVal.value,\n          password: passwordVal.value\n        }\n        try {\n          const data = await store.dispatch('loginAndFetch', payload)\n          router.push('/')\n        } catch (e) {\n          // catch會接收到由axios攔截器拋出的錯誤\n          console.log(e)\n        }\n      }\n    }\n\n    return {\n      emailRules,\n      emailVal,\n      passwordVal,\n      passwordRules,\n      onFormSubmit\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.login-page {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","<template>\n    <form class=\"validate-form-container col-lg-6 col-sm-12 mx-auto my-3\" @submit.prevent=\"submitForm\">\n      <slot name=\"default\"></slot>\n      <div class=\"submit-area\">\n        <slot name=\"submit\">\n          <button type=\"submit\" class=\"btn btn-primary w-100\">確認</button>\n        </slot>\n      </div>\n    </form>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, onUnmounted } from 'vue'\nimport mitt from 'mitt'\n\ntype ValidateFunc = () => boolean\n\nexport const emitter = mitt()\n\nexport default defineComponent({\n  name: 'ValidateForm',\n  emits: ['form-submit'],\n  setup (props, context) {\n    // 用來儲存validate-input傳過來的驗證函數\n    let funcArr: ValidateFunc[] = []\n\n    // 送出表單時的事件函數\n    const submitForm = () => {\n      // 將所有input傳過來的驗證函數執行之後，使用every確認全部是否通過\n      // 使用map的原因是要讓每個驗證函數都執行\n      const result = funcArr.map(func => func()).every(result => result)\n      // 如果有錯誤，廣播事件resetInput，通知input觸發事件\n      if (!result) {\n        emitter.emit('resetInput')\n      }\n      // 向外觸發form-submit事件，並將驗證結果傳遞\n      context.emit('form-submit', result)\n    }\n\n    // 將input傳遞過來的函數推入陣列\n    const callback = (func: ValidateFunc | undefined) => {\n      if (func) {\n        funcArr.push(func)\n      }\n    }\n\n    // input觸發事件時執行推入函數\n    emitter.on('form-item-created', callback)\n\n    // 解除監聽input事件，清空驗證函數陣列\n    onUnmounted(() => {\n      emitter.off('form-item-created', callback)\n      funcArr = []\n    })\n\n    return {\n      submitForm\n    }\n  }\n})\n</script>\n<style></style>\n","\nimport { defineComponent, onUnmounted } from 'vue'\nimport mitt from 'mitt'\n\ntype ValidateFunc = () => boolean\n\nexport const emitter = mitt()\n\nexport default defineComponent({\n  name: 'ValidateForm',\n  emits: ['form-submit'],\n  setup (props, context) {\n    // 用來儲存validate-input傳過來的驗證函數\n    let funcArr: ValidateFunc[] = []\n\n    // 送出表單時的事件函數\n    const submitForm = () => {\n      // 將所有input傳過來的驗證函數執行之後，使用every確認全部是否通過\n      // 使用map的原因是要讓每個驗證函數都執行\n      const result = funcArr.map(func => func()).every(result => result)\n      // 如果有錯誤，廣播事件resetInput，通知input觸發事件\n      if (!result) {\n        emitter.emit('resetInput')\n      }\n      // 向外觸發form-submit事件，並將驗證結果傳遞\n      context.emit('form-submit', result)\n    }\n\n    // 將input傳遞過來的函數推入陣列\n    const callback = (func: ValidateFunc | undefined) => {\n      if (func) {\n        funcArr.push(func)\n      }\n    }\n\n    // input觸發事件時執行推入函數\n    emitter.on('form-item-created', callback)\n\n    // 解除監聽input事件，清空驗證函數陣列\n    onUnmounted(() => {\n      emitter.off('form-item-created', callback)\n      funcArr = []\n    })\n\n    return {\n      submitForm\n    }\n  }\n})\n","import { render } from \"./ValidateForm.vue?vue&type=template&id=624db392\"\nimport script from \"./ValidateForm.vue?vue&type=script&lang=ts\"\nexport * from \"./ValidateForm.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"validate-input-container pb-3\">\n    <input\n      v-if=\"tag !== 'textarea'\"\n      class=\"form-control\"\n      :class=\"{ 'is-invalid': inputRef.error }\"\n      @blur=\"validateInput\"\n      v-model=\"inputRef.val\"\n      v-bind=\"$attrs\"\n    >\n    <textarea\n      v-else\n      class=\"form-control\"\n      :class=\"{ 'is-invalid': inputRef.error }\"\n      @blur=\"validateInput\"\n      v-model=\"inputRef.val\"\n      v-bind=\"$attrs\"\n    >\n    </textarea>\n    <span v-if=\"inputRef.error\" class=\"invalid-feedback\">{{ inputRef.message }}</span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, PropType, onMounted, computed } from 'vue'\nimport { emitter } from './ValidateForm.vue'\n\n// email驗證正則表達式\nconst emailReg = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\n\n// 用來限制傳入的rule，必須指定類型以及錯誤訊息\ninterface RuleProp {\n  type: 'required' | 'email' | 'custom'\n  message: string,\n  validator?: () => boolean\n}\n// 自定義type方便日後使用\nexport type RulesProp = RuleProp[]\nexport type TagType = 'input' | 'textarea'\n\nexport default defineComponent({\n  name: 'ValidateInput',\n  props: {\n    // 接收傳入的rules\n    rules: {\n      type: Array as PropType<RulesProp>\n    },\n    tag: {\n      type: String as PropType<TagType>,\n      default: 'input'\n    },\n    modelValue: String\n  },\n  // 不要讓傳進來的attr繼承在組件根結點上\n  inheritAttrs: false,\n  setup (props, context) {\n    // 因為需要包含多筆屬性，所以使用reactive創建物件\n    const inputRef = reactive({\n      val: computed({\n        get: () => props.modelValue || '',\n        set: val => {\n          context.emit('update:modelValue', val)\n        }\n      }),\n      error: false,\n      message: ''\n    })\n\n    // 每次blur之後執行的回調函數\n    const validateInput = () => {\n      // 如果有rules傳入，便循環驗證每個規則\n      if (props.rules) {\n        // 陣列的every方法，如果全部返回true，則返回true，只要有一個返回false便會返回false\n        const allPassed = props.rules.every(rule => {\n          // 定義用來返回的變量，預設為true，代表默認是通過的\n          let passed = true\n          // 將rule中的訊息賦值給input的錯誤訊息，如果沒有通過驗證時顯示\n          inputRef.message = rule.message\n          // 尋找與rules類型匹配的case並執行驗證\n          switch (rule.type) {\n            case 'required':\n              passed = (inputRef.val.trim() !== '')\n              break\n            case 'email':\n              passed = emailReg.test(inputRef.val.trim())\n              break\n            case 'custom':\n              passed = rule.validator ? rule.validator() : true\n              break\n            default:\n              break\n          }\n          // 返回passed\n          return passed\n        })\n        // 如果allPassed為true代表通過驗證，inputRef沒有錯誤\n        inputRef.error = !allPassed\n        return allPassed\n      }\n      return true\n    }\n\n    const inputReset = () => {\n      inputRef.val = ''\n      context.emit('update:modelValue', '')\n    }\n\n    onMounted(() => {\n      emitter.emit('form-item-created', validateInput)\n      emitter.on('resetInput', inputReset)\n    })\n    return {\n      inputRef,\n      validateInput\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, reactive, PropType, onMounted, computed } from 'vue'\nimport { emitter } from './ValidateForm.vue'\n\n// email驗證正則表達式\nconst emailReg = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\n\n// 用來限制傳入的rule，必須指定類型以及錯誤訊息\ninterface RuleProp {\n  type: 'required' | 'email' | 'custom'\n  message: string,\n  validator?: () => boolean\n}\n// 自定義type方便日後使用\nexport type RulesProp = RuleProp[]\nexport type TagType = 'input' | 'textarea'\n\nexport default defineComponent({\n  name: 'ValidateInput',\n  props: {\n    // 接收傳入的rules\n    rules: {\n      type: Array as PropType<RulesProp>\n    },\n    tag: {\n      type: String as PropType<TagType>,\n      default: 'input'\n    },\n    modelValue: String\n  },\n  // 不要讓傳進來的attr繼承在組件根結點上\n  inheritAttrs: false,\n  setup (props, context) {\n    // 因為需要包含多筆屬性，所以使用reactive創建物件\n    const inputRef = reactive({\n      val: computed({\n        get: () => props.modelValue || '',\n        set: val => {\n          context.emit('update:modelValue', val)\n        }\n      }),\n      error: false,\n      message: ''\n    })\n\n    // 每次blur之後執行的回調函數\n    const validateInput = () => {\n      // 如果有rules傳入，便循環驗證每個規則\n      if (props.rules) {\n        // 陣列的every方法，如果全部返回true，則返回true，只要有一個返回false便會返回false\n        const allPassed = props.rules.every(rule => {\n          // 定義用來返回的變量，預設為true，代表默認是通過的\n          let passed = true\n          // 將rule中的訊息賦值給input的錯誤訊息，如果沒有通過驗證時顯示\n          inputRef.message = rule.message\n          // 尋找與rules類型匹配的case並執行驗證\n          switch (rule.type) {\n            case 'required':\n              passed = (inputRef.val.trim() !== '')\n              break\n            case 'email':\n              passed = emailReg.test(inputRef.val.trim())\n              break\n            case 'custom':\n              passed = rule.validator ? rule.validator() : true\n              break\n            default:\n              break\n          }\n          // 返回passed\n          return passed\n        })\n        // 如果allPassed為true代表通過驗證，inputRef沒有錯誤\n        inputRef.error = !allPassed\n        return allPassed\n      }\n      return true\n    }\n\n    const inputReset = () => {\n      inputRef.val = ''\n      context.emit('update:modelValue', '')\n    }\n\n    onMounted(() => {\n      emitter.emit('form-item-created', validateInput)\n      emitter.on('resetInput', inputReset)\n    })\n    return {\n      inputRef,\n      validateInput\n    }\n  }\n})\n","import { render } from \"./ValidateInput.vue?vue&type=template&id=024e2e3e\"\nimport script from \"./ValidateInput.vue?vue&type=script&lang=ts\"\nexport * from \"./ValidateInput.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, ref } from 'vue'\n// 與useRoute不同useRouter用來定義路由的行為\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps } from '../store'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\n\nexport default defineComponent({\n  name: 'Login',\n  components: {\n    ValidateForm,\n    ValidateInput\n  },\n  setup () {\n    const router = useRouter()\n    const store = useStore<GlobalDataProps>()\n\n    const emailVal = ref('')\n    const emailRules: RulesProp = [\n      { type: 'required', message: '電子郵件地址不能為空' },\n      { type: 'email', message: '請輸入正確的電子郵件格式' }\n    ]\n\n    const passwordVal = ref('')\n    const passwordRules: RulesProp = [\n      { type: 'required', message: '密碼不能為空' }\n    ]\n\n    const onFormSubmit = async (result: boolean) => {\n      if (result) {\n        const payload = {\n          email: emailVal.value,\n          password: passwordVal.value\n        }\n        try {\n          const data = await store.dispatch('loginAndFetch', payload)\n          router.push('/')\n        } catch (e) {\n          // catch會接收到由axios攔截器拋出的錯誤\n          console.log(e)\n        }\n      }\n    }\n\n    return {\n      emailRules,\n      emailVal,\n      passwordVal,\n      passwordRules,\n      onFormSubmit\n    }\n  }\n})\n","import { render } from \"./Login.vue?vue&type=template&id=7f8bbbe8\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=7f8bbbe8&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"signup-page mx-auto w-330\">\n    <h2 class=\"text-center py-3 fw-bold\">註冊</h2>\n    <validate-form @form-submit=\"onFormSubmit\">\n      <div class=\"mb-3\">\n        <label class=\"form-label fw-bolder\">電子郵件</label>\n        <validate-input\n          :rules=\"emailRules\"\n          v-model=\"formData.email\"\n          placeholder=\"請輸入電子郵件地址\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label fw-bolder\">暱稱</label>\n        <validate-input\n          :rules=\"nameRules\"\n          v-model=\"formData.nickName\"\n          placeholder=\"請輸入暱稱\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label fw-bolder\">密碼</label>\n        <validate-input\n          :rules=\"passwordRules\"\n          v-model=\"formData.password\"\n          placeholder=\"請輸入密碼\"\n          type=\"password\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label fw-bolder\">重複密碼</label>\n        <validate-input\n          :rules=\"repeatPasswordRules\"\n          v-model=\"formData.repeatPassword\"\n          placeholder=\"請再次輸入密碼\"\n          type=\"password\"\n        />\n      </div>\n      <template #submit>\n        <button type=\"submit\" class=\"btn btn-primary w-100 fw-bolder\">註冊</button>\n      </template>\n    </validate-form>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport createMessage from '../components/createMessage'\nexport default defineComponent({\n  name: 'Signup',\n  components: {\n    ValidateForm,\n    ValidateInput\n  },\n  setup () {\n    const router = useRouter()\n    const formData = reactive({\n      email: '',\n      nickName: '',\n      password: '',\n      repeatPassword: ''\n    })\n    const emailRules:RulesProp = [\n      { type: 'required', message: '電子郵件地址不能為空' },\n      { type: 'email', message: '請輸入正確的電子郵件地址格式' }\n    ]\n    const nameRules:RulesProp = [\n      { type: 'required', message: '暱稱不能為空' }\n    ]\n    const passwordRules:RulesProp = [\n      { type: 'required', message: '密碼不能為空' }\n    ]\n    const repeatPasswordRules:RulesProp = [\n      { type: 'required', message: '重複密碼不能為空' },\n      {\n        type: 'custom',\n        validator: () => {\n          return formData.password === formData.repeatPassword\n        },\n        message: '重複密碼不相同'\n      }\n    ]\n    const onFormSubmit = async (result: boolean) => {\n      if (result) {\n        const payload = {\n          email: formData.email,\n          nickName: formData.nickName,\n          password: formData.password\n        }\n        try {\n          await axios.post('/users/', payload)\n          createMessage('註冊成功，跳轉至登入頁面', 'success')\n          setTimeout(() => {\n            router.push('/login')\n          }, 2000)\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    return {\n      formData,\n      onFormSubmit,\n      emailRules,\n      nameRules,\n      passwordRules,\n      repeatPasswordRules\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.signup-page {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","<template>\n  <teleport to='#message'>\n    <div\n      class=\"alert fixed-top w-50 mx-auto d-flex justify-content-between mt-2\"\n      :class=\"classObject\"\n      v-if=\"isVisible\"\n      >\n      <span>{{ message }}</span>\n      <button\n        type=\"button\"\n        class=\"btn-close\"\n        @click.prevent=\"hide\"\n        >\n      </button>\n    </div>\n  </teleport>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, PropType } from 'vue'\nimport useDOMCreate from '../hooks/useDOMCreate'\nexport type MessageType = 'success' | 'error' | 'default'\n\nexport default defineComponent({\n  name: 'Message',\n  props: {\n    message: String,\n    type: {\n      type: String as PropType<MessageType>,\n      default: 'default'\n    }\n  },\n  emits: ['close-message'],\n  setup (props, context) {\n    useDOMCreate('message')\n    const isVisible = ref(true)\n    const classObject = {\n      'alert-success': props.type === 'success',\n      'alert-danger': props.type === 'error',\n      'alert-primary': props.type === 'default'\n    }\n    const hide = () => {\n      isVisible.value = false\n      context.emit('close-message')\n    }\n    return {\n      classObject,\n      isVisible,\n      hide\n    }\n  }\n})\n</script>\n<style></style>\n","import { onUnmounted } from 'vue'\n\nfunction useDOMCreate (nodeId: string) {\n  const node = document.createElement('div')\n  node.id = nodeId\n  document.body.appendChild(node)\n  onUnmounted(() => {\n    document.body.removeChild(node)\n  })\n}\n\nexport default useDOMCreate\n","\nimport { defineComponent, ref, PropType } from 'vue'\nimport useDOMCreate from '../hooks/useDOMCreate'\nexport type MessageType = 'success' | 'error' | 'default'\n\nexport default defineComponent({\n  name: 'Message',\n  props: {\n    message: String,\n    type: {\n      type: String as PropType<MessageType>,\n      default: 'default'\n    }\n  },\n  emits: ['close-message'],\n  setup (props, context) {\n    useDOMCreate('message')\n    const isVisible = ref(true)\n    const classObject = {\n      'alert-success': props.type === 'success',\n      'alert-danger': props.type === 'error',\n      'alert-primary': props.type === 'default'\n    }\n    const hide = () => {\n      isVisible.value = false\n      context.emit('close-message')\n    }\n    return {\n      classObject,\n      isVisible,\n      hide\n    }\n  }\n})\n","import { render } from \"./Message.vue?vue&type=template&id=4fab3337\"\nimport script from \"./Message.vue?vue&type=script&lang=ts\"\nexport * from \"./Message.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","/* 使用函數方式創建組件，利用了vue的createApp方法 */\n// createApp方法可以創建一個應用\nimport { createApp } from 'vue'\n// 將定義好的Message組件引入\nimport Message from './Message.vue'\nexport type MeassageType = 'success' | 'error' | 'default'\n// 定義創建組件的方法\nconst createMessage = (message: string, type: MeassageType, timeout = 2000) => {\n  // 使用createApp創建組件，接收兩個參數\n  // 第一個參數: 要創建的組件\n  // 第二個參數: 該組件會接收的props\n  const messageInstance = createApp(Message, {\n    message,\n    type\n  })\n  // 創建應用要掛載的節點\n  const mountNode = document.createElement('div')\n  document.body.appendChild(mountNode)\n  // 將經由createApp創建的應用掛載到節點上\n  messageInstance.mount(mountNode)\n  // 設置定時器，時間到將應用從節點上卸載，並刪除該節點\n  setTimeout(() => {\n    messageInstance.unmount()\n    document.body.removeChild(mountNode)\n  }, timeout)\n}\n\nexport default createMessage\n","\nimport { defineComponent, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport createMessage from '../components/createMessage'\nexport default defineComponent({\n  name: 'Signup',\n  components: {\n    ValidateForm,\n    ValidateInput\n  },\n  setup () {\n    const router = useRouter()\n    const formData = reactive({\n      email: '',\n      nickName: '',\n      password: '',\n      repeatPassword: ''\n    })\n    const emailRules:RulesProp = [\n      { type: 'required', message: '電子郵件地址不能為空' },\n      { type: 'email', message: '請輸入正確的電子郵件地址格式' }\n    ]\n    const nameRules:RulesProp = [\n      { type: 'required', message: '暱稱不能為空' }\n    ]\n    const passwordRules:RulesProp = [\n      { type: 'required', message: '密碼不能為空' }\n    ]\n    const repeatPasswordRules:RulesProp = [\n      { type: 'required', message: '重複密碼不能為空' },\n      {\n        type: 'custom',\n        validator: () => {\n          return formData.password === formData.repeatPassword\n        },\n        message: '重複密碼不相同'\n      }\n    ]\n    const onFormSubmit = async (result: boolean) => {\n      if (result) {\n        const payload = {\n          email: formData.email,\n          nickName: formData.nickName,\n          password: formData.password\n        }\n        try {\n          await axios.post('/users/', payload)\n          createMessage('註冊成功，跳轉至登入頁面', 'success')\n          setTimeout(() => {\n            router.push('/login')\n          }, 2000)\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    return {\n      formData,\n      onFormSubmit,\n      emailRules,\n      nameRules,\n      passwordRules,\n      repeatPasswordRules\n    }\n  }\n})\n","import { render } from \"./Signup.vue?vue&type=template&id=3122b8dd\"\nimport script from \"./Signup.vue?vue&type=script&lang=ts\"\nexport * from \"./Signup.vue?vue&type=script&lang=ts\"\n\nimport \"./Signup.vue?vue&type=style&index=0&id=3122b8dd&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"column-detail-page mx-auto py-5\">\n    <div class=\"align-items-center row mb-4 border-bottom pb-4\" v-if=\"column\">\n      <div v-if=\"column.avatar\" class=\"avatar-container text-center col-2\">\n        <img :src=\"column.avatar.url\" :alt=\"column.title\" class=\"column-avatar rounded-circle\">\n      </div>\n      <div v-else class=\"avatar-fallback d-flex justify-content-center align-items-center column-avatar col-2 mx-auto\">\n        <i class=\"fas fa-book b-block w-50 h-50\"></i>\n      </div>\n      <div class=\"column-info d-flex flex-column col-10\">\n        <h4 class=\"column-title my-0 fw-bolder\">{{column.title}}</h4>\n        <p class=\"text-muted my-0 mt-1 column-desc\">{{column.description}}</p>\n      </div>\n    </div>\n    <post-list v-if=\"posts.length\" :posts=\"posts\"></post-list>\n    <div v-else class=\"col-lg-8 col-md-8 mx-auto post-list-fallback\">\n      <img src=\"../assets/callout.svg\" alt=\"callout\" class=\"col-lg-3 col-md-3 col-sm-8 mx-auto\"/>\n      <h2 class=\"font-weight-light mt-5 text-center\">您還沒有文章哦!</h2>\n      <p class=\"mx-auto text-center\">\n        <router-link to=\"/create\" class=\"btn btn-primary my-3 fw-bolder\">開始寫作</router-link>\n      </p>\n    </div>\n    <button\n      class=\"btn btn-outline-primary mx-auto d-block mb-3 w-50\"\n      v-if=\"!isLastPage\"\n      @click=\"loadMorePage\"\n      >加載更多</button>\n    <div v-if=\"isLastPage && posts.length\" class=\"is-last-page text-center text-secondary py-4 fs-5\"><i class=\"fas fa-exclamation-triangle me-2\"></i>沒有更多文章囉!</div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, ref, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps, ColumnProps } from '@/store'\nimport PostList from '../components/PostList.vue'\nimport useLoadMore from '../hooks/useLoadMore'\n\nexport default defineComponent({\n  name: 'ColumnDetail',\n  components: {\n    PostList\n  },\n  setup () {\n    const route = useRoute()\n    const store = useStore<GlobalDataProps>()\n    const columnId = ref(route.params.id)\n    const posts = computed(() => store.getters.getPostsByCid(columnId.value))\n    const total = computed(() => store.getters.getTotalByCid(columnId.value))\n    const currentPage = computed(() => store.getters.getCurrentPageByCid(columnId.value))\n\n    const { isLastPage, loadMorePage } = useLoadMore('fetchPosts', total, { columnId: columnId.value, currentPage: currentPage.value, pageSize: 5 })\n\n    const column = computed(() => {\n      const selectColumn = store.getters.getColumnsById(columnId.value) as ColumnProps\n      return selectColumn\n    })\n\n    watchEffect(() => {\n      document.title = (column.value && column.value.title) || document.title\n    })\n\n    onMounted(() => {\n      store.dispatch('fetchColumn', columnId.value)\n      store.dispatch('fetchPosts', { columnId: columnId.value })\n    })\n\n    return {\n      column,\n      posts,\n      isLastPage,\n      loadMorePage\n    }\n  }\n})\n</script>\n<style scoped lang=\"scss\">\n.column-detail-page {\n  width: 100%;\n  align-self: start;\n  .column-avatar {\n    width: 80px;\n    height: 80px;\n    border-radius: 50%;\n    object-fit: cover;\n    border: 2px solid #efefef;\n  }\n  .avatar-fallback {\n    background-color: #cfcfcf;\n    color: #fff;\n  }\n  .post-list-fallback {\n    color: #555;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n  }\n  @media (max-width: 576px) {\n    .avatar-container {\n      width: 100%;\n    }\n    .column-info {\n      text-align: center;\n      width: 100%;\n      margin-top: 1rem;\n    }\n    .post-list-fallback {\n      img {\n        width: 50%;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"post-list\">\n    <transition-group name=\"posts\">\n      <article v-for=\"post in posts\" :key=\"post._id\" class=\"card mb03 shadow-sm my-3\">\n        <router-link :to=\"`/posts/${post._id}`\">\n          <div class=\"card-body px-4 py-4\">\n            <h3  class=\"fw-bolder post-title text-dark\">{{ post.title }}</h3>\n            <div class=\"d-flex my-3 align-items-center\">\n              <div\n                v-if=\"post.image && typeof post.image ==='object'\"\n                class=\"col-3 post-image overflow-hidden\"\n                :style=\"{ backgroundImage: `url(${post.image.url})` }\"\n              >\n              </div>\n              <div\n                v-else\n                class=\"col-3 post-image overflow-hidden\"\n              >\n                <i class=\"fas fa-image w-100 h-100\"></i>\n              </div>\n              <p :class=\"{ 'col-9': post.image }\" class=\"text-muted post-excerpt ps-5 align-self-start text-break\">{{ post.excerpt }}</p>\n            </div>\n            <span class=\"text-muted\">發表於: {{ post.createdAt }}</span>\n          </div>\n        </router-link>\n      </article>\n    </transition-group>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue'\nimport { PostProps } from '../store'\nexport default defineComponent({\n  name: 'PostList',\n  props: {\n    posts: {\n      type: Array as PropType<PostProps[]>,\n      required: true\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.post-list {\n  * {\n    text-decoration: none;\n  }\n  .post-title {\n    color: inherit;\n    font-size: 24px;\n  }\n  article{\n    trasition: 0.3s;\n    &:hover {\n      background-color: #efefef;\n    }\n  }\n  .post-image {\n    padding-top: 20%;\n    background-position: center center;\n    background-size: cover;\n    height: 0;\n    position: relative;\n    svg {\n      position: absolute;\n      left: 0;\n      top: 0;\n      background-color: #cfcfcf;\n      color: #fff;\n    }\n  }\n  @media (max-width: 576px) {\n    .post-excerpt {\n      display: none;\n    }\n    .post-image {\n      width: 100%;\n      padding-top: 70%;\n    }\n  }\n}\n.posts-enter-active,\n.posts-leave-active {\n  transition: 0.3s;\n}\n.posts-enter-from,\n.posts-leave-to {\n  transform: translateY(20%);\n}\n\n.posts-leave-from,\n.posts-enter-to {\n  transform: translateY(0);\n}\n</style>\n","\nimport { defineComponent, PropType } from 'vue'\nimport { PostProps } from '../store'\nexport default defineComponent({\n  name: 'PostList',\n  props: {\n    posts: {\n      type: Array as PropType<PostProps[]>,\n      required: true\n    }\n  }\n})\n","import { render } from \"./PostList.vue?vue&type=template&id=3cfb575c\"\nimport script from \"./PostList.vue?vue&type=script&lang=ts\"\nexport * from \"./PostList.vue?vue&type=script&lang=ts\"\n\nimport \"./PostList.vue?vue&type=style&index=0&id=3cfb575c&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, computed, onMounted, ref, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps, ColumnProps } from '@/store'\nimport PostList from '../components/PostList.vue'\nimport useLoadMore from '../hooks/useLoadMore'\n\nexport default defineComponent({\n  name: 'ColumnDetail',\n  components: {\n    PostList\n  },\n  setup () {\n    const route = useRoute()\n    const store = useStore<GlobalDataProps>()\n    const columnId = ref(route.params.id)\n    const posts = computed(() => store.getters.getPostsByCid(columnId.value))\n    const total = computed(() => store.getters.getTotalByCid(columnId.value))\n    const currentPage = computed(() => store.getters.getCurrentPageByCid(columnId.value))\n\n    const { isLastPage, loadMorePage } = useLoadMore('fetchPosts', total, { columnId: columnId.value, currentPage: currentPage.value, pageSize: 5 })\n\n    const column = computed(() => {\n      const selectColumn = store.getters.getColumnsById(columnId.value) as ColumnProps\n      return selectColumn\n    })\n\n    watchEffect(() => {\n      document.title = (column.value && column.value.title) || document.title\n    })\n\n    onMounted(() => {\n      store.dispatch('fetchColumn', columnId.value)\n      store.dispatch('fetchPosts', { columnId: columnId.value })\n    })\n\n    return {\n      column,\n      posts,\n      isLastPage,\n      loadMorePage\n    }\n  }\n})\n","import { render } from \"./ColumnDetail.vue?vue&type=template&id=2f0b9bdd&scoped=true\"\nimport script from \"./ColumnDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./ColumnDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./ColumnDetail.vue?vue&type=style&index=0&id=2f0b9bdd&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2f0b9bdd\"\n\nexport default script","<template>\n  <div class=\"create-post-page py-5\">\n    <h4 class=\"text-center fw-bolder\">{{ isEditMode? '編輯文章': '新建文章' }}</h4>\n    <uploader\n      action=\"/upload\"\n      class=\"d-flex align-items-center justify-content-center bg-light text-secondary col-lg-6 col-sm-12 mx-auto my-4\"\n      :uploaded=\"uploadedData\"\n      :beforeUpload=\"uploadCheck\"\n      @file-uploaded=\"handleFileUploaded\"\n      >\n      <h2>點擊上傳封面圖片</h2>\n      <template #loading>\n        <div class=\"d-flex\">\n          <div class=\"spinner-border text-secondary mx-3\"></div>\n          <h2>正在上傳...</h2>\n        </div>\n      </template>\n      <template #uploaded=\"dataProps\">\n        <img :src=\"dataProps.uploadedData.data.url\" alt=\"文章封面\">\n      </template>\n    </uploader>\n    <validate-form @form-submit=\"onFormSubmit\">\n      <div class=\"mb-3\">\n        <label class=\"form-label fw-bolder\">文章標題</label>\n        <validate-input\n          :rules=\"titleRules\"\n          v-model=\"titleVal\"\n          placeholder=\"請輸入文章標題\"\n          type=\"text\"\n        ></validate-input>\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label fw-bolder\">文章詳情</label>\n        <validate-input\n          type=\"text\"\n          tag=\"textarea\"\n          rows=\"10\"\n          :rules=\"contentRules\"\n          v-model=\"contentVal\"\n          placeholder=\"請輸入文章詳情\"\n        ></validate-input>\n      </div>\n      <template #submit>\n        <button class=\"btn btn-primary btn-large\">{{ isEditMode ? '更新文章' : '發表文章' }}</button>\n      </template>\n    </validate-form>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { GlobalDataProps, ResponseType, ImageProps, PostProps } from '../store'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport Uploader from '../components/Uploader.vue'\nimport createMessage from '../components/createMessage'\nimport { beforeUploadCheck } from '../helpers'\nexport default defineComponent({\n  name: 'CreatePost',\n  components: {\n    ValidateForm,\n    ValidateInput,\n    Uploader\n  },\n  setup () {\n    const uploadedData = ref()\n    const store = useStore<GlobalDataProps>()\n    const router = useRouter()\n    const route = useRoute()\n    // 使用!!轉換成boolean類型，判斷路由是否存在id，代表是否為編輯模式\n    const isEditMode = !!route.query.id\n    let imageId = ''\n    const titleVal = ref('')\n    const titleRules:RulesProp = [\n      { type: 'required', message: '文章標題不能為空' }\n    ]\n    const contentVal = ref('')\n    const contentRules:RulesProp = [\n      { type: 'required', message: '文章內容不能為空' }\n    ]\n    const handleFileUploaded = (rawData: ResponseType<ImageProps>) => {\n      if (rawData.data._id) {\n        imageId = rawData.data._id\n      }\n    }\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        const { column, _id } = computed(() => store.state.user).value\n        if (column) {\n          const newPost: PostProps = {\n            title: titleVal.value,\n            content: contentVal.value,\n            column,\n            author: _id\n          }\n          if (imageId) {\n            newPost.image = imageId\n          }\n          const actionName = isEditMode ? 'updatePost' : 'createPost'\n          const sendData = isEditMode ? {\n            id: route.query.id,\n            payload: newPost\n          } : newPost\n\n          store.dispatch(actionName, sendData).then(() => {\n            createMessage('文章創建完成，2秒後跳轉到文章', 'success', 2000)\n            setTimeout(() => {\n              router.push({ name: 'column', params: { id: column } })\n            }, 2000)\n          })\n        }\n      }\n    }\n    const uploadCheck = (file: File) => {\n      const result = beforeUploadCheck(file, {\n        format: ['image/jpeg', 'image/png'],\n        size: 1\n      })\n      const { passed, error } = result\n      if (error === 'format') {\n        createMessage('上傳圖片格式僅能為JPG/PNG格式', 'error')\n      }\n      if (error === 'size') {\n        createMessage('上傳圖片大小不能大於 1MB', 'error')\n      }\n      return passed\n    }\n\n    onMounted(() => {\n      if (isEditMode) {\n        store.dispatch('fetchPost', route.query.id).then((rawData: ResponseType) => {\n          const currentPost = rawData.data\n          if (currentPost.image) {\n            uploadedData.value = { data: currentPost.image }\n          }\n          titleVal.value = currentPost.title\n          contentVal.value = currentPost.content\n        })\n      }\n    })\n\n    return {\n      titleVal,\n      titleRules,\n      contentVal,\n      contentRules,\n      onFormSubmit,\n      uploadCheck,\n      handleFileUploaded,\n      uploadedData,\n      isEditMode\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.submit-area {\n  text-align: center;\n}\n.create-post-page {\n  width: 100%;\n  height: 100%;\n  .file-upload-container {\n    height: 200px;\n    cursor: pointer;\n    border: 1px solid #efefef;\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"file-upload\">\n    <div\n      class=\"file-upload-container\"\n      @click.prevent=\"triggerUpload\"\n      v-bind=\"$attrs\"\n      >\n      <slot v-if=\"fileStatus==='loading'\" name=\"loading\">\n        <button class=\"btn btn-primary\" disabled>正在上傳...</button>\n      </slot>\n      <slot v-else-if=\"fileStatus==='success'\" name=\"uploaded\" :uploadedData=\"uploadedData\">\n        <button class=\"btn btn-primary\">上傳成功</button>\n      </slot>\n      <slot v-else name=\"default\" >\n        <button class=\"btn btn-primary\">點擊上傳</button>\n      </slot>\n      <!-- <span v-else-if=\"fileStatus==='error'\">上傳失敗</span> -->\n    </div>\n    <!-- <button  class=\"btn btn-primary\" @click.prevent=\"handleDelete\">刪除圖片</button> -->\n    <input\n      type=\"file\"\n      class=\"file-input d-none\"\n      ref=\"fileInput\"\n      @change.prevent=\"handleFileChange\"\n      >\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref, watch } from 'vue'\nimport axios from 'axios'\n\ntype UploadStatus = 'ready' | 'loading' | 'success' | 'error'\ntype CheckFunction = (file: File) => boolean\n\nexport default defineComponent({\n  name: 'Uploader',\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    beforeUpload: {\n      type: Function as PropType<CheckFunction>\n    },\n    uploaded: {\n      type: Object\n    }\n  },\n  inheritAttrs: false,\n  emits: ['file-uploaded', 'file-uploaded-error', 'file-deleted'],\n  setup (props, context) {\n    const fileInput = ref<null | HTMLInputElement>(null) // 創建ref接收fileInput的DOM節點\n    const fileStatus = ref<UploadStatus>(props.uploaded ? 'success' : 'ready') // 創建用來標示上傳的狀態\n    const uploadedData = ref(props.uploaded)\n    watch(() => props.uploaded, newValue => {\n      if (newValue) {\n        fileStatus.value = 'success'\n        uploadedData.value = newValue\n      }\n    })\n    // 給button綁定的事件響應函數\n    const triggerUpload = () => {\n      // 判斷如果已經拿到fileInput節點\n      if (fileInput.value) {\n        /* HTMLElement上存在click方法可以模擬該節點被點擊 */\n        fileInput.value.click() // 觸發該節點上的點擊事件\n      }\n    }\n    // fileInput改變時的事件響應\n    const handleFileChange = async (e: Event) => {\n      const currentTarget = e.target as HTMLInputElement // 拿到input節點\n      /* type=\"file\"的input節點，使用value可以取得上傳的第一個檔案，files可以訪問上傳的所有檔案 */\n      if (currentTarget.files) {\n        // 判斷該節點已經選取檔案\n        const files = Array.from(currentTarget.files) // files是一個FileList類型的數據，使用Array.from轉換成普通陣列\n        if (props.beforeUpload) {\n          // 如果用戶有傳入beforeUpload\n          const result = props.beforeUpload(files[0]) // 將檔案傳入，檢查檔案是否符合用戶的自定義規則\n          if (!result) {\n            // 如果result為false\n            return result // 返回result\n          }\n        }\n        fileStatus.value = 'loading' // 設置標示為上傳中\n        const formData = new FormData() // 使用FormData建構函數創建formdata類型的數據\n        formData.append('file', files[0]) // 將表單名稱跟檔案加入formdata\n        try {\n          // 發送上傳請求\n          const res = await axios.post(props.action, formData, {\n            headers: { 'Content-Type': 'multipart/form-data' } // 設置請求頭\n          })\n          uploadedData.value = res.data\n          fileStatus.value = 'success' // 請求成功後，設置上傳狀態為成功\n          context.emit('file-uploaded', res.data) // 向外觸發file-uploaded事件\n          if (fileInput.value) {\n            // 如果存在fileInput節點\n            // 不管請求是成功或失敗，都清空fileInput的值\n            fileInput.value.value = ''\n          }\n        } catch (error) {\n          fileStatus.value = 'error' // 請求成功後，設置上傳狀態為失敗\n          context.emit('file-uploaded-error', { error }) // 向外觸發file-uploaded-error事件\n          if (fileInput.value) {\n            // 如果存在fileInput節點\n            // 不管請求是成功或失敗，都清空fileInput的值\n            fileInput.value.value = ''\n          }\n        }\n      }\n    }\n    const handleDelete = () => {\n      if (uploadedData.value) {\n        if (fileInput.value) {\n          fileInput.value.value = ''\n        }\n        uploadedData.value = {}\n        context.emit('file-deleted')\n      }\n    }\n    return {\n      fileInput,\n      triggerUpload,\n      fileStatus,\n      handleFileChange,\n      uploadedData,\n      handleDelete\n    }\n  }\n})\n</script>\n<style lang=\"scss\"></style>\n","\nimport { defineComponent, PropType, ref, watch } from 'vue'\nimport axios from 'axios'\n\ntype UploadStatus = 'ready' | 'loading' | 'success' | 'error'\ntype CheckFunction = (file: File) => boolean\n\nexport default defineComponent({\n  name: 'Uploader',\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    beforeUpload: {\n      type: Function as PropType<CheckFunction>\n    },\n    uploaded: {\n      type: Object\n    }\n  },\n  inheritAttrs: false,\n  emits: ['file-uploaded', 'file-uploaded-error', 'file-deleted'],\n  setup (props, context) {\n    const fileInput = ref<null | HTMLInputElement>(null) // 創建ref接收fileInput的DOM節點\n    const fileStatus = ref<UploadStatus>(props.uploaded ? 'success' : 'ready') // 創建用來標示上傳的狀態\n    const uploadedData = ref(props.uploaded)\n    watch(() => props.uploaded, newValue => {\n      if (newValue) {\n        fileStatus.value = 'success'\n        uploadedData.value = newValue\n      }\n    })\n    // 給button綁定的事件響應函數\n    const triggerUpload = () => {\n      // 判斷如果已經拿到fileInput節點\n      if (fileInput.value) {\n        /* HTMLElement上存在click方法可以模擬該節點被點擊 */\n        fileInput.value.click() // 觸發該節點上的點擊事件\n      }\n    }\n    // fileInput改變時的事件響應\n    const handleFileChange = async (e: Event) => {\n      const currentTarget = e.target as HTMLInputElement // 拿到input節點\n      /* type=\"file\"的input節點，使用value可以取得上傳的第一個檔案，files可以訪問上傳的所有檔案 */\n      if (currentTarget.files) {\n        // 判斷該節點已經選取檔案\n        const files = Array.from(currentTarget.files) // files是一個FileList類型的數據，使用Array.from轉換成普通陣列\n        if (props.beforeUpload) {\n          // 如果用戶有傳入beforeUpload\n          const result = props.beforeUpload(files[0]) // 將檔案傳入，檢查檔案是否符合用戶的自定義規則\n          if (!result) {\n            // 如果result為false\n            return result // 返回result\n          }\n        }\n        fileStatus.value = 'loading' // 設置標示為上傳中\n        const formData = new FormData() // 使用FormData建構函數創建formdata類型的數據\n        formData.append('file', files[0]) // 將表單名稱跟檔案加入formdata\n        try {\n          // 發送上傳請求\n          const res = await axios.post(props.action, formData, {\n            headers: { 'Content-Type': 'multipart/form-data' } // 設置請求頭\n          })\n          uploadedData.value = res.data\n          fileStatus.value = 'success' // 請求成功後，設置上傳狀態為成功\n          context.emit('file-uploaded', res.data) // 向外觸發file-uploaded事件\n          if (fileInput.value) {\n            // 如果存在fileInput節點\n            // 不管請求是成功或失敗，都清空fileInput的值\n            fileInput.value.value = ''\n          }\n        } catch (error) {\n          fileStatus.value = 'error' // 請求成功後，設置上傳狀態為失敗\n          context.emit('file-uploaded-error', { error }) // 向外觸發file-uploaded-error事件\n          if (fileInput.value) {\n            // 如果存在fileInput節點\n            // 不管請求是成功或失敗，都清空fileInput的值\n            fileInput.value.value = ''\n          }\n        }\n      }\n    }\n    const handleDelete = () => {\n      if (uploadedData.value) {\n        if (fileInput.value) {\n          fileInput.value.value = ''\n        }\n        uploadedData.value = {}\n        context.emit('file-deleted')\n      }\n    }\n    return {\n      fileInput,\n      triggerUpload,\n      fileStatus,\n      handleFileChange,\n      uploadedData,\n      handleDelete\n    }\n  }\n})\n","import { render } from \"./Uploader.vue?vue&type=template&id=602702a2\"\nimport script from \"./Uploader.vue?vue&type=script&lang=ts\"\nexport * from \"./Uploader.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { GlobalDataProps, ResponseType, ImageProps, PostProps } from '../store'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport Uploader from '../components/Uploader.vue'\nimport createMessage from '../components/createMessage'\nimport { beforeUploadCheck } from '../helpers'\nexport default defineComponent({\n  name: 'CreatePost',\n  components: {\n    ValidateForm,\n    ValidateInput,\n    Uploader\n  },\n  setup () {\n    const uploadedData = ref()\n    const store = useStore<GlobalDataProps>()\n    const router = useRouter()\n    const route = useRoute()\n    // 使用!!轉換成boolean類型，判斷路由是否存在id，代表是否為編輯模式\n    const isEditMode = !!route.query.id\n    let imageId = ''\n    const titleVal = ref('')\n    const titleRules:RulesProp = [\n      { type: 'required', message: '文章標題不能為空' }\n    ]\n    const contentVal = ref('')\n    const contentRules:RulesProp = [\n      { type: 'required', message: '文章內容不能為空' }\n    ]\n    const handleFileUploaded = (rawData: ResponseType<ImageProps>) => {\n      if (rawData.data._id) {\n        imageId = rawData.data._id\n      }\n    }\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        const { column, _id } = computed(() => store.state.user).value\n        if (column) {\n          const newPost: PostProps = {\n            title: titleVal.value,\n            content: contentVal.value,\n            column,\n            author: _id\n          }\n          if (imageId) {\n            newPost.image = imageId\n          }\n          const actionName = isEditMode ? 'updatePost' : 'createPost'\n          const sendData = isEditMode ? {\n            id: route.query.id,\n            payload: newPost\n          } : newPost\n\n          store.dispatch(actionName, sendData).then(() => {\n            createMessage('文章創建完成，2秒後跳轉到文章', 'success', 2000)\n            setTimeout(() => {\n              router.push({ name: 'column', params: { id: column } })\n            }, 2000)\n          })\n        }\n      }\n    }\n    const uploadCheck = (file: File) => {\n      const result = beforeUploadCheck(file, {\n        format: ['image/jpeg', 'image/png'],\n        size: 1\n      })\n      const { passed, error } = result\n      if (error === 'format') {\n        createMessage('上傳圖片格式僅能為JPG/PNG格式', 'error')\n      }\n      if (error === 'size') {\n        createMessage('上傳圖片大小不能大於 1MB', 'error')\n      }\n      return passed\n    }\n\n    onMounted(() => {\n      if (isEditMode) {\n        store.dispatch('fetchPost', route.query.id).then((rawData: ResponseType) => {\n          const currentPost = rawData.data\n          if (currentPost.image) {\n            uploadedData.value = { data: currentPost.image }\n          }\n          titleVal.value = currentPost.title\n          contentVal.value = currentPost.content\n        })\n      }\n    })\n\n    return {\n      titleVal,\n      titleRules,\n      contentVal,\n      contentRules,\n      onFormSubmit,\n      uploadCheck,\n      handleFileUploaded,\n      uploadedData,\n      isEditMode\n    }\n  }\n})\n","import { render } from \"./CreatePost.vue?vue&type=template&id=88c311b4\"\nimport script from \"./CreatePost.vue?vue&type=script&lang=ts\"\nexport * from \"./CreatePost.vue?vue&type=script&lang=ts\"\n\nimport \"./CreatePost.vue?vue&type=style&index=0&id=88c311b4&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n    <div v-if=\"currentPost\" class=\"detail-page col-lg-8 mx-auto\">\n      <modal\n        title=\"刪除文章\"\n        :visible=\"isModalVisible\"\n        @modal-on-close=\"closeModal\"\n        @modal-on-confirm=\"hideAndDelete\"\n      >\n        <p>確定刪除文章?</p>\n      </modal>\n      <div class=\"post-image-container\" v-if=\"currentPost.image && typeof currentPost.image === 'object'\">\n        <img :src=\"currentPost.image.url\" alt=\"\">\n      </div>\n      <h2 class=\"fw-bolder\">{{ currentPost.title }}</h2>\n      <div class=\"border-top border-bottom py-3 mb-5 d-flex align-items-center justify-content-between\">\n        <div class=\"user-profile\">\n          <user-profile\n            @click=\"toColumn\"\n            :user=\"currentPost.author\"\n            v-if=\"typeof currentPost.author === 'object'\"></user-profile>\n        </div>\n        <span class=\"text-muted post-create\">發表於: {{ currentPost.createdAt }}</span>\n      </div>\n      <div v-html=\"currentHTML\" class=\"post-content\"></div>\n      <div v-if=\"showEditArea()\" class=\"bnt-group my-5\">\n        <router-link\n          type=\"button\"\n          class=\"btn btn-primary me-1\"\n          :to=\"{ name: 'create', query: { id: currentPost._id }}\"\n        ><i class=\"far fa-edit me-2\"></i>編輯</router-link>\n        <button\n          type=\"button\"\n          class=\"btn btn-danger\"\n          @click=\"isModalVisible = true\"\n        ><i class=\"far fa-trash-alt me-2\"></i>刪除</button>\n      </div>\n    </div>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, onMounted, ref, watchEffect } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport MarkdownIt from 'markdown-it'\nimport { GlobalDataProps, PostProps, UserProps, ResponseType } from '../store'\nimport UserProfile from '../components/UserProfile.vue'\nimport Modal from '../components/Modal.vue'\nimport createMessage from '../components/createMessage'\n\nexport default defineComponent({\n  name: 'PostDetail',\n  components: {\n    UserProfile,\n    Modal\n  },\n  setup () {\n    const isModalVisible = ref(false)\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore<GlobalDataProps>()\n    const md = new MarkdownIt()\n    const currentId = route.params.id\n    const currentPost = computed<PostProps>(() => store.getters.getPostByCid(currentId))\n    const currentHTML = computed(() => {\n      if (currentPost.value && currentPost.value.content) {\n        return md.render(currentPost.value.content)\n      } else {\n        return ''\n      }\n    })\n    const showEditArea = () => {\n      const { isLogin, _id } = store.state.user\n      if (currentPost.value && currentPost.value.author && isLogin) {\n        const postAuthor = currentPost.value.author as UserProps\n        return postAuthor._id === _id\n      } else {\n        return false\n      }\n    }\n    const closeModal = () => {\n      isModalVisible.value = false\n    }\n    const hideAndDelete = () => {\n      closeModal()\n      store.dispatch('deletePost', currentId).then((rawData: ResponseType<PostProps>) => {\n        createMessage('刪除成功，2秒後跳轉到專欄首頁', 'success', 2000)\n        setTimeout(() => {\n          router.push({ name: 'column', params: { id: rawData.data.column } })\n        }, 2000)\n      })\n    }\n    const toColumn = () => {\n      router.push(`/column/${currentPost.value.column}`)\n    }\n    watchEffect(() => {\n      document.title = (currentPost.value && currentPost.value.title) || document.title\n    })\n\n    onMounted(() => {\n      store.dispatch('fetchPost', currentId)\n    })\n    return {\n      currentId,\n      currentPost,\n      currentHTML,\n      showEditArea,\n      isModalVisible,\n      closeModal,\n      hideAndDelete,\n      toColumn\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.detail-page {\n  width: 100%;\n  height: 100%;\n  margin-top: 70px;\n  h2 {\n    margin-top: 48px;\n    margin-bottom: 24px;\n  }\n  .post-image-container {\n    img {\n      width: 100%;\n      height: 200px;\n      object-fit: cover;\n    }\n  }\n  .post-create {\n    font-style: italic;\n  }\n  .user-profile {\n    cursor: pointer;\n  }\n  @media (max-width: 576px) {\n    .post-create {\n      display: none;\n    }\n  }\n  .post-content {\n    padding-bottom: 80px;\n    word-break: break-word;\n  }\n}\n</style>\n","<template>\n  <div class=\"user-profile d-flex justify-content-start align-items-top py-3\">\n    <img v-if=\"user.avatar\" :src=\"user.avatar.url\" :alt=\"user.nickName\" class=\"user-profile-image\">\n    <div v-else class=\"user-profile-image\">\n      <i class=\"fas fa-user-circle b-block w-100 h-100\"></i>\n    </div>\n    <div>\n      <h5 class=\"mb-0\">{{ user.nickName }}</h5>\n      <p v-if=\"user.description\" class=\"text-secondary mb-0\">{{ user.description }}</p>\n      <p v-else class=\"text-secondary mt-1 mb-0\">還沒有任何介紹哦!</p>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, onMounted } from 'vue'\nimport { UserProps } from '../store'\nexport default defineComponent({\n  name: 'UserProfile',\n  props: {\n    user: {\n      type: Object as PropType<UserProps>,\n      required: true\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.user-profile {\n  .user-profile-image {\n    width: 50px;\n    height: 50px;\n    margin-right: 16px;\n    object-fit: cover;\n    border-radius: 50%;\n    border: 2px solid transparent;\n    transition: 0.3s;\n    color: #cfcfcf;\n  }\n  &:hover {\n    .user-profile-image {\n      border: 2px solid var(--bs-blue);\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, PropType, computed, onMounted } from 'vue'\nimport { UserProps } from '../store'\nexport default defineComponent({\n  name: 'UserProfile',\n  props: {\n    user: {\n      type: Object as PropType<UserProps>,\n      required: true\n    }\n  }\n})\n","import { render } from \"./UserProfile.vue?vue&type=template&id=5a678186\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=ts\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=ts\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=5a678186&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <teleport to=\"#modal\">\n    <div class=\"modal d-block\" tabindex=\"-1\" v-if=\"visible\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title fw-bolder\">{{title}}</h5>\n          </div>\n          <div class=\"modal-body\">\n            <slot></slot>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-primary\"  @click=\"onConfirm\">確定</button>\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"  @click=\"onClose\">取消</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </teleport>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport useDOMCreate from '../hooks/useDOMCreate'\n\nexport default defineComponent({\n  name: 'Modal',\n  props: {\n    title: String,\n    visible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['modal-on-close', 'modal-on-confirm'],\n  setup (props, context) {\n    useDOMCreate('modal')\n    const onClose = () => {\n      console.log('close')\n      context.emit('modal-on-close')\n    }\n    const onConfirm = () => {\n      context.emit('modal-on-confirm')\n    }\n    return {\n      onClose,\n      onConfirm\n    }\n  }\n})\n</script>\n<style></style>\n","\nimport { defineComponent } from 'vue'\nimport useDOMCreate from '../hooks/useDOMCreate'\n\nexport default defineComponent({\n  name: 'Modal',\n  props: {\n    title: String,\n    visible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['modal-on-close', 'modal-on-confirm'],\n  setup (props, context) {\n    useDOMCreate('modal')\n    const onClose = () => {\n      console.log('close')\n      context.emit('modal-on-close')\n    }\n    const onConfirm = () => {\n      context.emit('modal-on-confirm')\n    }\n    return {\n      onClose,\n      onConfirm\n    }\n  }\n})\n","import { render } from \"./Modal.vue?vue&type=template&id=13fc0c12\"\nimport script from \"./Modal.vue?vue&type=script&lang=ts\"\nexport * from \"./Modal.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { computed, defineComponent, onMounted, ref, watchEffect } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport MarkdownIt from 'markdown-it'\nimport { GlobalDataProps, PostProps, UserProps, ResponseType } from '../store'\nimport UserProfile from '../components/UserProfile.vue'\nimport Modal from '../components/Modal.vue'\nimport createMessage from '../components/createMessage'\n\nexport default defineComponent({\n  name: 'PostDetail',\n  components: {\n    UserProfile,\n    Modal\n  },\n  setup () {\n    const isModalVisible = ref(false)\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore<GlobalDataProps>()\n    const md = new MarkdownIt()\n    const currentId = route.params.id\n    const currentPost = computed<PostProps>(() => store.getters.getPostByCid(currentId))\n    const currentHTML = computed(() => {\n      if (currentPost.value && currentPost.value.content) {\n        return md.render(currentPost.value.content)\n      } else {\n        return ''\n      }\n    })\n    const showEditArea = () => {\n      const { isLogin, _id } = store.state.user\n      if (currentPost.value && currentPost.value.author && isLogin) {\n        const postAuthor = currentPost.value.author as UserProps\n        return postAuthor._id === _id\n      } else {\n        return false\n      }\n    }\n    const closeModal = () => {\n      isModalVisible.value = false\n    }\n    const hideAndDelete = () => {\n      closeModal()\n      store.dispatch('deletePost', currentId).then((rawData: ResponseType<PostProps>) => {\n        createMessage('刪除成功，2秒後跳轉到專欄首頁', 'success', 2000)\n        setTimeout(() => {\n          router.push({ name: 'column', params: { id: rawData.data.column } })\n        }, 2000)\n      })\n    }\n    const toColumn = () => {\n      router.push(`/column/${currentPost.value.column}`)\n    }\n    watchEffect(() => {\n      document.title = (currentPost.value && currentPost.value.title) || document.title\n    })\n\n    onMounted(() => {\n      store.dispatch('fetchPost', currentId)\n    })\n    return {\n      currentId,\n      currentPost,\n      currentHTML,\n      showEditArea,\n      isModalVisible,\n      closeModal,\n      hideAndDelete,\n      toColumn\n    }\n  }\n})\n","import { render } from \"./PostDetail.vue?vue&type=template&id=0bdad46e\"\nimport script from \"./PostDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./PostDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./PostDetail.vue?vue&type=style&index=0&id=0bdad46e&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"edit-profile py-5 w-100\">\n    <div class=\"row\">\n      <h3 class=\"text-center fw-bold col-lg-6 col-sm-12 mx-auto\">編輯資料</h3>\n      <uploader\n        action=\"/upload\"\n        class=\"col-lg-6 col-sm-12 d-flex align-items-center justify-content-center  text-secondary mx-auto my-5 circle\"\n        @file-uploaded=\"onFileUploaded\"\n      >\n        <div v-if=\"storeUser.avatar\" class=\"circle\">\n          <img :src=\"storeUser.avatar.url\" alt=\"用戶頭像\">\n        </div>\n        <div v-else class=\"circle avatar-fallback\">\n          <i class=\"fas fa-user-circle b-block w-100 h-100\"></i>\n        </div>\n        <template #uploaded=\"dataProps\">\n          <div class=\"circle\">\n            <img :src=\"dataProps.uploadedData.data.url\" alt=\"用戶頭像\">\n          </div>\n        </template>\n      </uploader>\n      <validate-form\n        @form-submit=\"onFormSubmit\"\n        class=\"mx-auto\"\n      >\n        <label class=\"mb-1 fw-bold\">用戶暱稱</label>\n        <validate-input\n          placeholder=\"請輸入暱稱\"\n          v-model=\"nameVal\"\n          type=\"text\"\n          :rules=\"nameRule\"\n        ></validate-input>\n        <label class=\"mb-1 fw-bold\">用戶介紹</label>\n        <validate-input\n          placeholder=\"請輸入介紹\"\n          v-model=\"descVal\"\n          tag=\"textarea\"\n          rows=\"5\"\n          :rules=\"descRule\"\n        ></validate-input>\n        <template #submit>\n          <button class=\"btn btn-primary w-100\">確認更改</button>\n        </template>\n      </validate-form>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { GlobalDataProps, AvatarProps, UserProps } from '../store'\nimport Uploader from '../components/Uploader.vue'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport createMessage from '../components/createMessage'\n\nexport default defineComponent({\n  name: 'EditProfile',\n  components: {\n    ValidateForm,\n    ValidateInput,\n    Uploader\n  },\n  setup () {\n    // store\n    const store = useStore<GlobalDataProps>()\n    const router = useRouter()\n    const uploadedData = ref()\n    const storeUser = computed<UserProps>(() => store.state.user)\n    const descVal = ref(storeUser.value && storeUser.value.description)\n    const nameVal = ref(storeUser.value && storeUser.value.nickName)\n    watch(storeUser, () => {\n      if (storeUser.value) {\n        descVal.value = storeUser.value.description\n        nameVal.value = storeUser.value.nickName\n      }\n    })\n    // 輸入框規則\n    const nameRule: RulesProp = [{ type: 'required', message: '暱稱不能為空' }]\n    const descRule: RulesProp = [{ type: 'required', message: '介紹不能為空' }]\n    // 圖片上傳完成事件\n    const onFileUploaded = (newAvatar: AvatarProps) => {\n      uploadedData.value = newAvatar\n    }\n    // 表單送出事件\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        let sendData\n        if (uploadedData.value) {\n          sendData = {\n            description: descVal.value,\n            nickName: nameVal.value,\n            avatar: {\n              _id: uploadedData.value.data._id,\n              url: uploadedData.value.data.url\n            }\n          }\n        } else {\n          sendData = {\n            description: descVal.value,\n            nickName: nameVal.value\n          }\n        }\n\n        store.dispatch('editUserProfile', { userId: storeUser.value._id, data: sendData }).then(() => {\n          createMessage('資料更新完成，2秒後跳轉至首頁', 'success', 2000)\n          setTimeout(() => {\n            router.push('/')\n          }, 2000)\n        })\n      }\n    }\n    return {\n      onFormSubmit,\n      onFileUploaded,\n      descVal,\n      nameVal,\n      nameRule,\n      descRule,\n      storeUser\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.edit-profile {\n  width: 100%;\n  height: 100%;\n  .avatar-fallback {\n    color: #cfcfcf;\n  }\n  .circle {\n    width: 200px;\n    height: 200px;\n    border-radius: 200px;\n    overflow: hidden;\n    cursor: pointer;\n    position: relative;\n    border: 1px solid #efefef;\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      transition: 0.2s;\n    }\n    &:hover {\n      img {\n        transform: scale(1.1);\n      }\n      &::after {\n        content: '點擊上傳圖片';\n        font-size: 24px;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: rgba(0,0,0,0.2);\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, ref, computed, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { GlobalDataProps, AvatarProps, UserProps } from '../store'\nimport Uploader from '../components/Uploader.vue'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport createMessage from '../components/createMessage'\n\nexport default defineComponent({\n  name: 'EditProfile',\n  components: {\n    ValidateForm,\n    ValidateInput,\n    Uploader\n  },\n  setup () {\n    // store\n    const store = useStore<GlobalDataProps>()\n    const router = useRouter()\n    const uploadedData = ref()\n    const storeUser = computed<UserProps>(() => store.state.user)\n    const descVal = ref(storeUser.value && storeUser.value.description)\n    const nameVal = ref(storeUser.value && storeUser.value.nickName)\n    watch(storeUser, () => {\n      if (storeUser.value) {\n        descVal.value = storeUser.value.description\n        nameVal.value = storeUser.value.nickName\n      }\n    })\n    // 輸入框規則\n    const nameRule: RulesProp = [{ type: 'required', message: '暱稱不能為空' }]\n    const descRule: RulesProp = [{ type: 'required', message: '介紹不能為空' }]\n    // 圖片上傳完成事件\n    const onFileUploaded = (newAvatar: AvatarProps) => {\n      uploadedData.value = newAvatar\n    }\n    // 表單送出事件\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        let sendData\n        if (uploadedData.value) {\n          sendData = {\n            description: descVal.value,\n            nickName: nameVal.value,\n            avatar: {\n              _id: uploadedData.value.data._id,\n              url: uploadedData.value.data.url\n            }\n          }\n        } else {\n          sendData = {\n            description: descVal.value,\n            nickName: nameVal.value\n          }\n        }\n\n        store.dispatch('editUserProfile', { userId: storeUser.value._id, data: sendData }).then(() => {\n          createMessage('資料更新完成，2秒後跳轉至首頁', 'success', 2000)\n          setTimeout(() => {\n            router.push('/')\n          }, 2000)\n        })\n      }\n    }\n    return {\n      onFormSubmit,\n      onFileUploaded,\n      descVal,\n      nameVal,\n      nameRule,\n      descRule,\n      storeUser\n    }\n  }\n})\n","import { render } from \"./EditProfile.vue?vue&type=template&id=47070b54\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=ts\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=ts\"\n\nimport \"./EditProfile.vue?vue&type=style&index=0&id=47070b54&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"edit-column py-5 w-100\">\n    <div class=\"row flex-column align-items-center\">\n      <h3 class=\"text-center fw-bold col-lg-6 col-sm-12 mx-auto\">編輯專欄</h3>\n      <uploader\n        action=\"/upload\"\n        class=\"col-lg-6 col-sm-12 d-flex align-items-center justify-content-center  text-secondary mx-auto my-5 circle\"\n        @file-uploaded=\"onFileUploaded\"\n      >\n        <div v-if=\"currentColumn && currentColumn.avatar\" class=\"circle\">\n          <img :src=\"currentColumn.avatar.url\" :alt=\"currentColumn.title\">\n        </div>\n        <div v-else class=\"circle avatar-fallback d-flex justify-content-center align-items-center\">\n          <i class=\"fas fa-book b-block w-50 h-50\"></i>\n        </div>\n        <template #loading>\n          <div class=\"d-flex\">\n            <div class=\"spinner-border text-secondary mx-3\"></div>\n            <h2>正在上傳...</h2>\n          </div>\n        </template>\n        <template #uploaded=\"dataProps\">\n          <img :src=\"dataProps.uploadedData.data.url\" alt=\"專欄頭像\">\n        </template>\n      </uploader>\n      <validate-form\n        @form-submit=\"onFormSubmit\"\n      >\n        <label class=\"fw-bolder mb-1\">專欄名稱</label>\n        <validate-input\n          placeholder=\"請輸入名稱\"\n          v-model=\"columnName\"\n          type=\"text\"\n          :rules=\"nameRule\"\n        ></validate-input>\n        <label class=\"fw-bolder mb-1\">專欄介紹</label>\n        <validate-input\n          placeholder=\"請輸入介紹\"\n          v-model=\"columnDesc\"\n          tag=\"textarea\"\n          rows=\"5\"\n          :rules=\"descRule\"\n        ></validate-input>\n        <template #submit>\n          <button class=\"btn btn-primary w-100\">確認更改</button>\n        </template>\n      </validate-form>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { ref, computed, defineComponent, watch, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { AvatarProps, ColumnProps, UserProps } from '@/store'\nimport ValidateForm from '@/components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '@/components/ValidateInput.vue'\nimport Uploader from '@/components/Uploader.vue'\nimport createMessage from '@/components/createMessage'\nexport default defineComponent({\n  name: 'edit-column',\n  components: {\n    ValidateForm,\n    ValidateInput,\n    Uploader\n  },\n  setup () {\n    const store = useStore()\n    const router = useRouter()\n    const storeUser = computed<UserProps>(() => store.state.user)\n    const currentColumn = computed(() => store.getters.getColumnById(storeUser.value.column))\n    const columnName = ref(currentColumn.value && currentColumn.value.title)\n    const columnDesc = ref(currentColumn.value && currentColumn.value.description)\n    const uploadedData = ref()\n    // 輸入框規則\n    const nameRule: RulesProp = [{ type: 'required', message: '名稱不能為空' }]\n    const descRule: RulesProp = [{ type: 'required', message: '介紹不能為空' }]\n\n    const fetchCurrentColumn = (cid: string) => {\n      store.dispatch('fetchColumn', cid).then(res => {\n        if (res) {\n          columnDesc.value = res.data.description\n          columnName.value = res.data.title\n        }\n      })\n    }\n    watch(storeUser, async () => {\n      if (storeUser.value && storeUser.value.column) {\n        if (!currentColumn.value) {\n          fetchCurrentColumn(storeUser.value.column)\n        }\n      }\n    })\n    onMounted(() => {\n      const cid = storeUser.value.column\n      if (cid) {\n        fetchCurrentColumn(cid)\n      }\n    })\n    const onFileUploaded = (newAvatar: any) => {\n      uploadedData.value = newAvatar\n    }\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        let sendData\n        if (uploadedData.value) {\n          sendData = {\n            description: columnDesc.value,\n            title: columnName.value,\n            avatar: {\n              _id: uploadedData.value.data && uploadedData.value.data._id,\n              url: uploadedData.value.data && uploadedData.value.data.url\n            }\n          }\n        } else {\n          sendData = {\n            description: columnDesc.value,\n            title: columnName.value\n          }\n        }\n\n        store.dispatch('editUserColumn', { columnId: currentColumn.value._id, data: sendData }).then(() => {\n          createMessage('資料更新完成，2秒後跳轉至專欄頁', 'success', 2000)\n          setTimeout(() => {\n            router.push(`/column/${currentColumn.value._id}`)\n          }, 2000)\n        })\n      }\n    }\n    return {\n      currentColumn,\n      columnName,\n      columnDesc,\n      nameRule,\n      descRule,\n      onFileUploaded,\n      onFormSubmit\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.edit-column {\n  width: 100%;\n  height: 100%;\n  align-self: start;\n  .avatar-fallback {\n    background-color: #cfcfcf;\n    color: #fff;\n  }\n  .circle {\n    width: 200px;\n    height: 200px;\n    border-radius: 200px;\n    overflow: hidden;\n    cursor: pointer;\n    position: relative;\n    border: 1px solid #efefef;\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      transition: 0.2s;\n    }\n    &:hover {\n      img {\n        transform: scale(1.1);\n      }\n      &::after {\n        content: '點擊上傳圖片';\n        font-size: 24px;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: rgba(0,0,0,0.2);\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>\n","\nimport { ref, computed, defineComponent, watch, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { AvatarProps, ColumnProps, UserProps } from '@/store'\nimport ValidateForm from '@/components/ValidateForm.vue'\nimport ValidateInput, { RulesProp } from '@/components/ValidateInput.vue'\nimport Uploader from '@/components/Uploader.vue'\nimport createMessage from '@/components/createMessage'\nexport default defineComponent({\n  name: 'edit-column',\n  components: {\n    ValidateForm,\n    ValidateInput,\n    Uploader\n  },\n  setup () {\n    const store = useStore()\n    const router = useRouter()\n    const storeUser = computed<UserProps>(() => store.state.user)\n    const currentColumn = computed(() => store.getters.getColumnById(storeUser.value.column))\n    const columnName = ref(currentColumn.value && currentColumn.value.title)\n    const columnDesc = ref(currentColumn.value && currentColumn.value.description)\n    const uploadedData = ref()\n    // 輸入框規則\n    const nameRule: RulesProp = [{ type: 'required', message: '名稱不能為空' }]\n    const descRule: RulesProp = [{ type: 'required', message: '介紹不能為空' }]\n\n    const fetchCurrentColumn = (cid: string) => {\n      store.dispatch('fetchColumn', cid).then(res => {\n        if (res) {\n          columnDesc.value = res.data.description\n          columnName.value = res.data.title\n        }\n      })\n    }\n    watch(storeUser, async () => {\n      if (storeUser.value && storeUser.value.column) {\n        if (!currentColumn.value) {\n          fetchCurrentColumn(storeUser.value.column)\n        }\n      }\n    })\n    onMounted(() => {\n      const cid = storeUser.value.column\n      if (cid) {\n        fetchCurrentColumn(cid)\n      }\n    })\n    const onFileUploaded = (newAvatar: any) => {\n      uploadedData.value = newAvatar\n    }\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        let sendData\n        if (uploadedData.value) {\n          sendData = {\n            description: columnDesc.value,\n            title: columnName.value,\n            avatar: {\n              _id: uploadedData.value.data && uploadedData.value.data._id,\n              url: uploadedData.value.data && uploadedData.value.data.url\n            }\n          }\n        } else {\n          sendData = {\n            description: columnDesc.value,\n            title: columnName.value\n          }\n        }\n\n        store.dispatch('editUserColumn', { columnId: currentColumn.value._id, data: sendData }).then(() => {\n          createMessage('資料更新完成，2秒後跳轉至專欄頁', 'success', 2000)\n          setTimeout(() => {\n            router.push(`/column/${currentColumn.value._id}`)\n          }, 2000)\n        })\n      }\n    }\n    return {\n      currentColumn,\n      columnName,\n      columnDesc,\n      nameRule,\n      descRule,\n      onFileUploaded,\n      onFormSubmit\n    }\n  }\n})\n","import { render } from \"./EditColumn.vue?vue&type=template&id=9753bb42\"\nimport script from \"./EditColumn.vue?vue&type=script&lang=ts\"\nexport * from \"./EditColumn.vue?vue&type=script&lang=ts\"\n\nimport \"./EditColumn.vue?vue&type=style&index=0&id=9753bb42&lang=scss\"\nscript.render = render\n\nexport default script","import axios from 'axios'\nimport { createRouter, createWebHashHistory } from 'vue-router'\nimport store from './store'\nimport Home from './views/Home.vue'\nimport Login from './views/Login.vue'\nimport Signup from './views/Signup.vue'\nimport ColumnDetail from './views/ColumnDetail.vue'\nimport CreatePost from './views/CreatePost.vue'\nimport PostDetail from './views/PostDetail.vue'\nimport EditProfile from './views/EditProfile.vue'\nimport EditColumn from './views/EditColumn.vue'\n\nconst routerHistory = createWebHashHistory()\nconst router = createRouter({\n  history: routerHistory,\n  scrollBehavior () {\n    return { left: 0, top: 0 }\n  },\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home,\n      meta: {\n        title: '隨心專欄'\n      }\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: Login,\n      // meta屬性的值會添加到路由物件的meta屬性中，作為路由守衛的判斷依據\n      meta: {\n        redirectAlreadyLogin: true,\n        title: '登入'\n      }\n    },\n    {\n      path: '/column/:id',\n      name: 'column',\n      component: ColumnDetail\n    },\n    {\n      path: '/create',\n      name: 'create',\n      component: CreatePost,\n      meta: {\n        requiredLogin: true,\n        title: '新建文章'\n      }\n    },\n    {\n      path: '/signup',\n      name: 'signup',\n      component: Signup,\n      meta: {\n        title: '註冊'\n      }\n    },\n    {\n      path: '/posts/:id',\n      name: 'posts',\n      component: PostDetail\n    },\n    {\n      path: '/edit-profile',\n      name: 'edit-profile',\n      component: EditProfile,\n      meta: {\n        requiredLogin: true,\n        title: '編輯資料'\n      }\n    },\n    {\n      path: '/edit-column',\n      name: 'edit-column',\n      component: EditColumn,\n      meta: {\n        requiredLogin: true,\n        title: '編輯專欄'\n      }\n    }\n  ]\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const { token, user } = store.state\n  // 這裡取出的這兩個值不一定存在，會根據目標路由確定存在與否\n  const { requiredLogin, redirectAlreadyLogin, title } = to.meta\n  if (!user.isLogin) {\n    if (token) {\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`\n      try {\n        await store.dispatch('fetchCurrentUser')\n        if (redirectAlreadyLogin) {\n          // 如果目標路由存在redirectAlreadyLogin的meta的話(這裡只有訪問/login有這個標籤)，跳轉到主頁面\n          document.title = '隨心專欄'\n          next('/')\n        } else {\n          if (title) document.title = title as string\n          // 如果沒有直接放行\n          next()\n        }\n      } catch (error) {\n        // 即使存在token登入也失敗，代表token有問題\n        console.error(error)\n        // 清除token\n        localStorage.removeItem('token')\n        store.commit('logout')\n        document.title = '登入'\n        next('login')\n      }\n    } else {\n      if (requiredLogin) {\n        // 如果token不存在，並且目標路由存在requiredLogin的meta，跳轉到登入\n        document.title = '登入'\n        next('login')\n      } else {\n        if (title) document.title = title as string\n        next()\n      }\n    }\n  } else {\n    if (redirectAlreadyLogin) {\n      document.title = '隨心專欄'\n      next('/')\n    } else {\n      if (title) document.title = title as string\n      next()\n    }\n  }\n})\n\nexport default router\n","<template>\n  <div class=\"wrapper\">\n    <global-header :user=\"currentUser\"></global-header>\n    <div class=\"container\">\n      <loader v-if=\"isLoading\" text=\"加載中\" background=\"rgba(0,0,0,.8)\"></loader>\n      <router-view :key=\"$route.fullPath\"></router-view>\n    </div>\n    <footer class=\"footer text-center py-4 text-secondary bg-light mt-6\">\n      <small>\n        <ul class=\"list-inline mb-0\">\n          <li class=\"list-inline-item\">2021 隨心專欄</li>\n        </ul>\n      </small>\n    </footer>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps } from './store'\nimport GlobalHeader from './components/GlobalHeader.vue'\nimport Loader from './components/Loader.vue'\nimport createMessage from './components/createMessage'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    GlobalHeader,\n    Loader\n  },\n  setup () {\n    const store = useStore<GlobalDataProps>()\n    const currentUser = computed(() => store.state.user)\n    const isLoading = computed(() => store.state.loading)\n    const error = computed(() => store.state.error)\n\n    // 監視error屬性的變化\n    // 使用getter方式監視error內的status\n    watch(() => error.value.status, () => {\n      // 將status與message從error中取出\n      const { status, message } = error.value\n      // 判斷如果status為true，並且message存在\n      if (status && message) {\n        // 執行創建應用的函數\n        createMessage(message, 'error')\n      }\n    })\n\n    return {\n      currentUser,\n      isLoading,\n      error\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n.slide-enter-active, .slide-leave-active {\n  transition: all 0.3s;\n}\n.slide-enter-from, .slide-leave-to {\n  transform: translateX(100%);\n}\n.wrapper {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  .container {\n    flex: 1;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 70px;\n  }\n}\n</style>\n","<template>\n  <nav\n    class=\"navbar navbar-dark bg-primary justify-content-between mb-4 px-4 fixed\"\n    :class=\"{ 'scroll-down': isScrollDown }\"\n  >\n    <router-link to=\"/\" class=\"navbar-brand\">隨心專欄</router-link>\n    <ul v-if=\"!user.isLogin\" class=\"list-inline mb-0\">\n      <li class=\"list-inline-item\">\n        <router-link to=\"/login\" class=\"btn btn-outline-light my-2 fw-bolder\">登入</router-link>\n      </li>\n      <li class=\"list-inline-item\">\n        <router-link to=\"/signup\" class=\"btn btn-outline-light my-2 fw-bolder\">註冊</router-link>\n      </li>\n    </ul>\n    <ul v-else class=\"list-inline mb-0\">\n      <li class=\"list-inline-item\">\n        <drop-down :title=\"`你好，${user.nickName}`\">\n          <drop-down-item><router-link  to=\"/create\" class=\"dropdown-item\"><i class=\"fas fa-plus-circle mx-2\"></i>新建文章</router-link></drop-down-item>\n          <drop-down-item>\n            <router-link :to=\"`/column/${user.column}`\" class=\"dropdown-item\">\n              <i class=\"fas fa-columns mx-2\"></i>我的專欄\n            </router-link>\n          </drop-down-item>\n          <drop-down-item>\n            <router-link to=\"/edit-profile\" class=\"dropdown-item\">\n              <i class=\"fas fa-user-edit mx-2\"></i>編輯資料\n            </router-link>\n          </drop-down-item>\n          <drop-down-item><router-link to=\"/edit-column\" class=\"dropdown-item\"><i class=\"fas fa-edit mx-2\"></i>編輯專欄</router-link></drop-down-item>\n          <drop-down-item>\n            <a href=\"#\" class=\"dropdown-item\" @click=\"logout\">\n              <i class=\"fas fa-sign-out-alt mx-2\"></i>退出登入\n            </a>\n          </drop-down-item>\n        </drop-down>\n      </li>\n    </ul>\n  </nav>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType, onMounted, onUnmounted, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { UserProps, GlobalDataProps } from '../store'\nimport DropDown from './DropDown.vue'\nimport DropDownItem from './DropDownItem.vue'\n\nexport default defineComponent({\n  name: 'GlobalHeader',\n  components: {\n    DropDown,\n    DropDownItem\n  },\n  props: {\n    user: {\n      type: Object as PropType<UserProps>,\n      required: true\n    }\n  },\n  setup () {\n    const store = useStore<GlobalDataProps>()\n    const isTop = ref(false)\n    const isScrollDown = ref(false)\n    let oldScrollTop = 0\n    const logout = () => {\n      if (store.state.user.isLogin) {\n        store.commit('logout')\n      }\n    }\n    const setToFixed = () => {\n      const scrollTop = document.documentElement.scrollTop\n      if (scrollTop > oldScrollTop) {\n        isScrollDown.value = true\n        oldScrollTop = scrollTop\n      } else {\n        isScrollDown.value = false\n        oldScrollTop = scrollTop\n      }\n    }\n    onMounted(() => {\n      document.addEventListener('scroll', setToFixed)\n    })\n    onUnmounted(() => {\n      document.removeEventListener('scroll', setToFixed)\n    })\n    return {\n      logout,\n      isScrollDown\n    }\n  }\n})\n</script>\n<style lang=\"scss\" scoped>\n.fixed {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n  transition: 0.3s;\n  &.scroll-down {\n    transform: translateY(-100%);\n  }\n}\n</style>\n","<template>\n  <div class=\"dropdown\" ref=\"dropdownRef\">\n    <a  href=\"#\"\n        class=\"btn btn-outline-light my-2 dropdown-toggle\"\n        @click.prevent=\"toggleOpen\"\n        >{{title}}</a>\n    <ul v-if=\"isOpen\" class=\"dropdown-menu\" :style=\"{ display: 'block' }\">\n      <slot></slot>\n    </ul>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\nimport useClickOutside from '../hooks/useClickOutside'\n\nexport default defineComponent({\n  name: 'DropDown',\n  props: {\n    title: {\n      type: String,\n      required: true\n    }\n  },\n  setup () {\n    // 標示下拉菜單是否關閉\n    const isOpen = ref(false)\n    const dropdownRef = ref<null | HTMLElement>(null)\n\n    // 控制下拉菜單的關閉與開啟\n    const toggleOpen = () => {\n      isOpen.value = !isOpen.value\n    }\n\n    // 控制點擊dropdown-menu外側關閉菜單的函數\n    const isClickOutside = useClickOutside(dropdownRef)\n    watch(isClickOutside, () => {\n      if (isOpen.value && isClickOutside.value) {\n        isOpen.value = false\n      }\n    })\n\n    // #region hook抽取前的筆記\n    // // 用於點擊dropdown外的區域時關閉菜單的事件響應函數\n    // const handler = (e: MouseEvent) => {\n    //   // 如果dropdownRef存在\n    //   if (dropdownRef.value) {\n    //     // contains可以判斷傳入值是否為當前節點的子節點，返回true或false\n    //     // e.target 必須使用類型斷言，因為TS不知道該屬性是否為HTML節點\n    //     if (!dropdownRef.value.contains(e.target as HTMLElement) && isOpen.value === true) {\n    //       // 判斷如果被點擊的元素不是dropdown裡的節點，以及dropdown為開的狀況下，關閉dropdown\n    //       isOpen.value = false\n    //     }\n    //   }\n    // }\n\n    // // 掛載組件時監聽，卸載組件時取消監聽\n    // onMounted(() => {\n    //   document.addEventListener('click', handler)\n    // })\n    // onUnmounted(() => {\n    //   document.removeEventListener('click', handler)\n    // })\n    // #endregion\n\n    return {\n      isOpen,\n      toggleOpen,\n      dropdownRef\n    }\n  }\n})\n</script>\n<style></style>\n","import { ref, onMounted, onUnmounted, Ref } from 'vue'\n\n// useClickOutside主要返回一個true或false的標示符，用來判斷滑鼠是否點擊在元素外面\nconst useClickOutside = (elementRef: Ref<null | HTMLElement>) => {\n  // 用於返回的標示符\n  const isClickOutside = ref(false)\n  // 判斷是否點擊在元素外面\n  const handler = (e: MouseEvent) => {\n    if (elementRef.value) {\n      if (elementRef.value.contains(e.target as HTMLElement)) {\n        isClickOutside.value = false\n      } else {\n        isClickOutside.value = true\n      }\n    }\n  }\n  onMounted(() => {\n    document.addEventListener('click', handler)\n  })\n  onUnmounted(() => {\n    document.removeEventListener('click', handler)\n  })\n  return isClickOutside\n}\n\nexport default useClickOutside\n","\nimport { defineComponent, ref, watch } from 'vue'\nimport useClickOutside from '../hooks/useClickOutside'\n\nexport default defineComponent({\n  name: 'DropDown',\n  props: {\n    title: {\n      type: String,\n      required: true\n    }\n  },\n  setup () {\n    // 標示下拉菜單是否關閉\n    const isOpen = ref(false)\n    const dropdownRef = ref<null | HTMLElement>(null)\n\n    // 控制下拉菜單的關閉與開啟\n    const toggleOpen = () => {\n      isOpen.value = !isOpen.value\n    }\n\n    // 控制點擊dropdown-menu外側關閉菜單的函數\n    const isClickOutside = useClickOutside(dropdownRef)\n    watch(isClickOutside, () => {\n      if (isOpen.value && isClickOutside.value) {\n        isOpen.value = false\n      }\n    })\n\n    // #region hook抽取前的筆記\n    // // 用於點擊dropdown外的區域時關閉菜單的事件響應函數\n    // const handler = (e: MouseEvent) => {\n    //   // 如果dropdownRef存在\n    //   if (dropdownRef.value) {\n    //     // contains可以判斷傳入值是否為當前節點的子節點，返回true或false\n    //     // e.target 必須使用類型斷言，因為TS不知道該屬性是否為HTML節點\n    //     if (!dropdownRef.value.contains(e.target as HTMLElement) && isOpen.value === true) {\n    //       // 判斷如果被點擊的元素不是dropdown裡的節點，以及dropdown為開的狀況下，關閉dropdown\n    //       isOpen.value = false\n    //     }\n    //   }\n    // }\n\n    // // 掛載組件時監聽，卸載組件時取消監聽\n    // onMounted(() => {\n    //   document.addEventListener('click', handler)\n    // })\n    // onUnmounted(() => {\n    //   document.removeEventListener('click', handler)\n    // })\n    // #endregion\n\n    return {\n      isOpen,\n      toggleOpen,\n      dropdownRef\n    }\n  }\n})\n","import { render } from \"./DropDown.vue?vue&type=template&id=49294aec\"\nimport script from \"./DropDown.vue?vue&type=script&lang=ts\"\nexport * from \"./DropDown.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <li\n    class=\"dropdown-option\"\n    :class=\"{'is-disabled': disabled}\"\n  >\n    <slot></slot>\n  </li>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'DropDownItem',\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  }\n})\n</script>\n<style lang=\"sass\">\n.dropdown-option.is-disabled\n  *\n    color: #6c757d\n    pointer-events: none\n    background-color: transparent\n</style>\n","\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'DropDownItem',\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  }\n})\n","import { render } from \"./DropDownItem.vue?vue&type=template&id=85f06582\"\nimport script from \"./DropDownItem.vue?vue&type=script&lang=ts\"\nexport * from \"./DropDownItem.vue?vue&type=script&lang=ts\"\n\nimport \"./DropDownItem.vue?vue&type=style&index=0&id=85f06582&lang=sass\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, PropType, onMounted, onUnmounted, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { UserProps, GlobalDataProps } from '../store'\nimport DropDown from './DropDown.vue'\nimport DropDownItem from './DropDownItem.vue'\n\nexport default defineComponent({\n  name: 'GlobalHeader',\n  components: {\n    DropDown,\n    DropDownItem\n  },\n  props: {\n    user: {\n      type: Object as PropType<UserProps>,\n      required: true\n    }\n  },\n  setup () {\n    const store = useStore<GlobalDataProps>()\n    const isTop = ref(false)\n    const isScrollDown = ref(false)\n    let oldScrollTop = 0\n    const logout = () => {\n      if (store.state.user.isLogin) {\n        store.commit('logout')\n      }\n    }\n    const setToFixed = () => {\n      const scrollTop = document.documentElement.scrollTop\n      if (scrollTop > oldScrollTop) {\n        isScrollDown.value = true\n        oldScrollTop = scrollTop\n      } else {\n        isScrollDown.value = false\n        oldScrollTop = scrollTop\n      }\n    }\n    onMounted(() => {\n      document.addEventListener('scroll', setToFixed)\n    })\n    onUnmounted(() => {\n      document.removeEventListener('scroll', setToFixed)\n    })\n    return {\n      logout,\n      isScrollDown\n    }\n  }\n})\n","import { render } from \"./GlobalHeader.vue?vue&type=template&id=6132cba9&scoped=true\"\nimport script from \"./GlobalHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./GlobalHeader.vue?vue&type=script&lang=ts\"\n\nimport \"./GlobalHeader.vue?vue&type=style&index=0&id=6132cba9&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6132cba9\"\n\nexport default script","<template>\n  <teleport to=\"#back\">\n    <div\n      class=\"d-flex justify-content-center align-items-center h-100 loading-container\"\n      :style=\"{backgroundColor: background || ''}\"\n      >\n      <div class=\"loading-content\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">{{ text || 'loading '}}</span>\n        </div>\n        <p v-if=\"text\" class=\"text-primary small\">{{ text }}</p>\n      </div>\n    </div>\n  </teleport>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, onUnmounted } from 'vue'\nexport default defineComponent({\n  name: 'Loader',\n  props: {\n    text: {\n      type: String\n    },\n    background: {\n      type: String\n    }\n  },\n  setup () {\n    const node = document.createElement('div')\n    node.id = 'back'\n    document.body.appendChild(node)\n\n    onUnmounted(() => {\n      document.body.removeChild(node)\n    })\n  }\n})\n</script>\n<style lang=\"scss\">\n.loading-container {\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 100;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  .loading-content {\n    text-align: center;\n  }\n}\n</style>\n","\nimport { defineComponent, onUnmounted } from 'vue'\nexport default defineComponent({\n  name: 'Loader',\n  props: {\n    text: {\n      type: String\n    },\n    background: {\n      type: String\n    }\n  },\n  setup () {\n    const node = document.createElement('div')\n    node.id = 'back'\n    document.body.appendChild(node)\n\n    onUnmounted(() => {\n      document.body.removeChild(node)\n    })\n  }\n})\n","import { render } from \"./Loader.vue?vue&type=template&id=16c50f84\"\nimport script from \"./Loader.vue?vue&type=script&lang=ts\"\nexport * from \"./Loader.vue?vue&type=script&lang=ts\"\n\nimport \"./Loader.vue?vue&type=style&index=0&id=16c50f84&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, computed, watch } from 'vue'\nimport { useStore } from 'vuex'\nimport { GlobalDataProps } from './store'\nimport GlobalHeader from './components/GlobalHeader.vue'\nimport Loader from './components/Loader.vue'\nimport createMessage from './components/createMessage'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    GlobalHeader,\n    Loader\n  },\n  setup () {\n    const store = useStore<GlobalDataProps>()\n    const currentUser = computed(() => store.state.user)\n    const isLoading = computed(() => store.state.loading)\n    const error = computed(() => store.state.error)\n\n    // 監視error屬性的變化\n    // 使用getter方式監視error內的status\n    watch(() => error.value.status, () => {\n      // 將status與message從error中取出\n      const { status, message } = error.value\n      // 判斷如果status為true，並且message存在\n      if (status && message) {\n        // 執行創建應用的函數\n        createMessage(message, 'error')\n      }\n    })\n\n    return {\n      currentUser,\n      isLoading,\n      error\n    }\n  }\n})\n","import { render } from \"./App.vue?vue&type=template&id=0ac99c3c\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0ac99c3c&lang=scss\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport axios from 'axios'\nimport router from './router'\nimport store from './store'\nimport App from './App.vue'\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport '@fortawesome/fontawesome-free/js/all.js'\n\n// 進行axios基本路徑的設定\naxios.defaults.baseURL = 'https://apis.imooc.com/api/'\n// 利用攔截器在每次請求前加上imooc的code\naxios.interceptors.request.use(config => {\n  config.params = { ...config.params, icode: 'E1697D7DB0D2E54C' }\n\n  if (config.data instanceof FormData) {\n    config.data.append('icode', 'E1697D7DB0D2E54C')\n  } else {\n    config.data = { ...config.data, icode: 'E1697D7DB0D2E54C' }\n  }\n  return config\n})\n\naxios.interceptors.request.use(config => {\n  // 發送請求前將狀態改為讀取\n  store.commit('setLoading', true)\n  // 並且將狀態設置為沒有錯誤\n  store.commit('setError', { status: false, message: '' })\n  return config\n})\n// axios的response攔截器可以接收兩個參數\n// 第一個是成功的回調\n// 第二個是失敗的回調\naxios.interceptors.response.use(config => {\n  // 設置狀態沒有讀取\n  store.commit('setLoading', false)\n  return config\n}, e => {\n  // axios會將數據包裝在response內，要將其取出\n  const { error } = e.response.data\n  // 設置狀態為錯誤，以及錯誤訊息\n  store.commit('setError', { status: true, message: error })\n  // 將狀態改為沒有讀取\n  store.commit('setLoading', false)\n  // 這邊返回reject是希望可以在外部調用catch處理錯誤\n  return Promise.reject(error)\n})\n\nconst app = createApp(App)\napp.use(router)\napp.use(store)\napp.mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserProfile.vue?vue&type=style&index=0&id=5a678186&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditProfile.vue?vue&type=style&index=0&id=47070b54&lang=scss\""],"sourceRoot":""}